/*! ezleaguePro Gamer Haven Theme v0.1.0 18-04-2018 */

function Message(e){this.username=ko.observable(e.username),this.avatar=ko.observable(e.avatar),this.message=ko.observable(e.message),this.created=ko.observable(e.created),this.owner=ko.observable(e.owner),this.chat_id=ko.observable(e.chat_id),this.site=ko.observable(e.site)}function ChatListViewModel(){var e=this;e.message=ko.observableArray([]),e.messages=ko.observableArray([]),e.newMessageMessage=ko.observable(),e.newMessageUsername=ko.observable(),e.newMessageAvatar=ko.observable(),e.addMessage=function(){e.message.push(new Message({site:active_site,message:this.newMessageMessage(),username:$("#chat-message-username").val(),avatar:$("#chat-message-avatar").val()})),e.messages.push(new Message({site:active_site,message:this.newMessageMessage(),username:$("#chat-message-username").val(),avatar:$("#chat-message-avatar").val()})),e.newMessageMessage(""),e.save(e.message),e.message.removeAll()},e.removeMessage=function(t){e.messages.remove(t);var s=ko.toJS({Data:t}).Data.chat_id;$.ajax({type:"GET",url:url_base+"get_chat.php",data:{a:"delete",chat_id:""+s,site:""+active_site}}).success(function(e){})},$.getJSON(url_base+"get_chat.php?a=get&site="+active_site,function(t){var s=$.map(t,function(e){return new Message(e)});e.messages(s)}),setInterval(function(){$.getJSON(url_base+"get_chat.php?a=get&site="+active_site,function(t){var s=$.map(t,function(e){return new Message(e)});e.messages(s)})},3e3),e.saveChanges=function(){var t=ko.toJS({Data:e.messages});$.ajax({url:url_base+"get_chat.php?a=save&site="+active_site,type:"post",data:t,success:function(e){$(".success").css("display",""),$(".success").fadeIn(1e3,"linear"),$(".success_text").fadeIn("slow"),$(".success_text").html(e)}})},e.save=function(e){var t=ko.toJS({Data:e});$.ajax({url:url_base+"get_chat.php?a=save",type:"post",data:t,success:function(e){$(".success").css("display",""),$(".success").fadeIn(1e3,"linear"),$(".success_text").fadeIn("slow"),$(".success_text").html(e),$(".success").fadeOut(5e3,"linear")}})}}!function(e){var t={init:function(){this.cacheElements(),this.bindEvents()},cacheElements:function(){this.donate_btn=e("#donateCredits"),this.credits_select=e("#credits-purchase-amount")},bindEvents:function(){this.donate_btn.on("click",e.proxy(function(t){var s=Number(e("#credits-amount").val());return user_credits=Number(e("#user-credits").val()),t.preventDefault(),s<1?(e(".success").addClass("success-red"),e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),void e(".success").html("<strong>Error</strong> Donation must be larger than 0")):s>user_credits?(e(".success").addClass("success-red"),e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),void e(".success").html('<strong class="text-danger">Error</strong> Donation cannot exceed your credits')):void e("#donate-credits-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Donate Credits":function(){var t=e("#team-id").val();user_id=e("#user-id").val(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"donate-credits",team_id:""+t,user_id:""+user_id,user_credits:""+user_credits,amount:""+s}}).success(function(t){e(".success").removeClass("success-red"),e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},this)),this.credits_select.on("change",e.proxy(function(e){window.location="settings-credits.php?amount="+this.credits_select.val()},this))}};e(document).ready(function(){t.init()})}(jQuery),function(e){var t={init:function(){this.cacheElements(),this.updatePayPalEmail(),this.bindEvents(),e(".settings-credits-list").length>0&&setInterval(function(){t.toggleSubmitPayout()},1e3)},cacheElements:function(){this.user_profile_form=e("#userProfile"),this.credit_payout_amount=e("#credits-pay-out-amount"),this.credit_payout_buttons=e("#credits-pay-out-buttons"),this.paid_out_credits_submit=e("#credits-pay-out-submit"),this.cancel_paid_out=e(".cancel-payout"),this.credits_conversion=e("#credits-conversion"),this.estimated_worth=e("#estimated-worth-text"),this.min_payout_credits=e("#payout-min-credits"),this.max_payout_credits=e("#payout-max-credits"),this.total_user_credits=e("#total-user-credits")},updatePayPalEmail:function(){this.user_profile_form.submit(function(t){var s=e("#user-id").val();paypal=e("#user-paypal").val(),t.preventDefault(),e.ajax({type:"POST",url:"lib/submit/submit-request-payout.php",data:{form:"update-paypal",user_id:""+s,paypal:""+paypal}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},submitPayoutRequest:function(){var t=Number(this.min_payout_credits.text()),s=Number(this.max_payout_credits.text()),a=Number(this.total_user_credits.text()),n=Number(e("#credits-pay-out-amount").val()),i=e("input[name='payout-method']:checked").val();return n>a?(e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),void e(".success").html("<strong>Error</strong> You only have "+a+" credits.")):n<t?(e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),void e(".success").html("<strong>Error</strong> Your payout request may only be "+t+" - "+s+" credits.")):n>s?(e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),void e(".success").html("<strong>Error</strong> Your payout request may only be "+t+" - "+s+" credits.")):void e("#pay-out-credits-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Request Payout":function(){var t=e("#credits-pay-out-amount").val();user_id=e("#credits-pay-out-user-id").val(),e.ajax({type:"POST",url:"lib/submit/submit-request-payout.php",data:{form:"request-pay-out",user_id:""+user_id,amount:""+t,method:""+i}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},cancelPayoutRequest:function(t){e("#pay-out-cancel-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Cancel Payout":function(){e.ajax({type:"POST",url:"lib/submit/submit-request-payout.php",data:{form:"cancel-payout",request_id:""+t}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},toggleSubmitPayout:function(){var t=Number(this.credit_payout_amount.val());if(min_credits=Number(this.min_payout_credits.text()),max_credits=Number(this.max_payout_credits.text()),user_credits=Number(this.total_user_credits.text()),""==t||t<1||t<min_credits||t>max_credits||t>user_credits)this.credit_payout_buttons.css("display","none");else{numeral.defaultFormat("0,0.00"),this.credit_payout_buttons.css("display","block");var s=this.credits_conversion.val()*t;worth_numeral=numeral(s).format("0,0,0.00"),e(this.estimated_worth).text(worth_numeral)}},bindEvents:function(){this.paid_out_credits_submit.on("click",e.proxy(function(e){e.preventDefault(),t.submitPayoutRequest()},this)),this.cancel_paid_out.each(function(){e(this).on("click",function(){var s=e(this).data("payout-id");t.cancelPayoutRequest(s)})})},str_replace:function(e,t,s,a){var n=0,i=0,r="",o="",c=0,u=0,l=[].concat(e),d=[].concat(t),m=s,h="[object Array]"===Object.prototype.toString.call(d),f="[object Array]"===Object.prototype.toString.call(m);for(m=[].concat(m),a&&(this.window[a]=0),n=0,c=m.length;n<c;n++)if(""!==m[n])for(i=0,u=l.length;i<u;i++)r=m[n]+"",o=h?void 0!==d[i]?d[i]:"":d[0],m[n]=r.split(l[i]).join(o),a&&m[n]!==r&&(this.window[a]+=(r.length-m[n].length)/l[i].length);return f?m:m[0]}};e(document).ready(function(){t.init()})}(jQuery),function(e){var t={init:function(){this.cacheElements(),this.userLogin(),this.userRegister(),this.userOrenaRegisterPage(),this.userRegisterPage(),this.userResetPassword(),this.userUpdatePassword(),this.sendMessage(),this.contactForm(),this.bindEvents()},cacheElements:function(){this.login_form=e("#ezLeagueLogin"),this.login_form_sidebar=e("#ezLeagueLoginSidebar"),this.register_form=e("#ezLeagueRegister"),this.register_page_form=e("#ezr-form"),this.register_orena_page_form=e("#newAccountRegistration"),this.registration_button=e(".registration-button"),this.reset_password_form=e("#ezLeagueResetPassword"),this.update_password_form=e("#ezLeagueNewPassword"),this.create_team_form=e("#createTeam"),this.send_message_form=e("#sendMessage"),this.upcoming_container=e(".user-upcoming-matches"),this.close_upcoming_btn=e("#closeUpcomingMatches"),this.contact_form=e("#contactForm"),this.join_organization_btn=e(".join-organization"),this.leave_organization_btn=e(".leave-organization"),this.header_mobile_search_btn=e("#header-mobile-search #open-btn"),this.header_mobile_search_close=e("#header-mobile-search #search #removeClass")},userLogin:function(){this.login_form.submit(function(t){var s=e("#login-username").val();password=e("#login-password").val(),t.preventDefault(),e.ajax({type:"POST",url:"submit.php",data:{form:"login",username:""+s,password:""+password}}).success(function(t){e(".login_success").css("display",""),e(".login_success").fadeIn(1e3,"linear"),e(".login_success_text").fadeIn("slow"),e(".login_success").html(t),setTimeout(function(){location.reload()},3e3)})}),this.login_form_sidebar.submit(function(t){e("#ezLeagueLoginSidebar button").prop("disabled",!0);var s=e("#sidebar-login-username").val();password=e("#sidebar-login-password").val(),t.preventDefault(),e.ajax({type:"POST",url:"submit.php",data:{form:"login",username:""+s,password:""+password}}).success(function(t){e(".login_success").css("display",""),e(".login_success").fadeIn(1e3,"linear"),e(".login_success_text").fadeIn("slow"),e(".login_success").html(t),setTimeout(function(){location.reload()},3e3)})})},userRegister:function(){this.register_form.submit(function(s){e("#ezLeagueRegister button").prop("disabled",!0);var a=e("#register-username").val();if(email=e("#register-email").val(),password=e("#register-password").val(),confirm=e("#register-confirm").val(),captcha=e("#register-captcha").val(),captchaa=e("#register-captcha-answer").val(),s.preventDefault(),a=t.cleanAccents(a),captcha!=captchaa)return e(".register_success").css("display",""),e(".register_success").fadeIn(1e3,"linear"),e(".register_success_text").fadeIn("slow"),e(".register_success_text").html("<strong>Error</strong> Incorrect CAPTCHA answer"),void e("#ezLeagueRegister button").prop("disabled",!1);a.length>=6?password==confirm&&""!=password&&password.length>=4?e.ajax({type:"POST",url:"submit.php",data:{form:"register",username:""+a,email:""+email,password:""+password,confirm:""+confirm}}).success(function(t){e(".register_success").css("display",""),e(".register_success").fadeIn(1e3,"linear"),e(".register_success_text").fadeIn("slow"),e(".register_success_text").html(t),"<p><strong>Success!</strong> Congratulations, your account has been created</p>"!=t&&"<p><strong>Success!</strong> Please check your e-mail for your confirmation link to finish registration"!=t||setTimeout(function(){window.location="home.php"},3e3),e("#ezLeagueRegister button").prop("disabled",!1)}):(e("#ezLeagueRegister button").prop("disabled",!1),e(".register_success").css("display",""),e(".register_success").fadeIn(1e3,"linear"),e(".register_success_text").fadeIn("slow"),e(".register_success_text").html("<strong>Error</strong> Passwords do not match, or is less than 6 characters")):(e("#ezLeagueRegister button").prop("disabled",!1),e(".register_success").css("display",""),e(".register_success").fadeIn(1e3,"linear"),e(".register_success_text").fadeIn("slow"),e(".register_success_text").html("<strong>Error</strong> Username is less than 6 characters"))})},userRegisterPage:function(){this.register_page_form.submit(function(s){e("#ezr-form button").prop("disabled",!0);var a=e("#register-page-username").val();if(email=e("#register-page-email").val(),site_ref=e("#register-site-ref").val(),birthday=e("#register-page-user-birthdate").val(),age_13=e("#register-page-age-thirteen").val(),age_18=e("#register-page-age-eighteen").val(),facebook=e("#register-page-facebook").val(),twitter=e("#register-page-twitter").val(),twitch=e("#register-page-twitch").val(),youtube=e("#register-page-youtube").val(),steam=e("#register-page-steam").val(),promo=e("#register-page-promo-code").val(),region=e("#register-region option:selected").val(),highschool="","usa"==region?(state=e("#register-usa-state option:selected").val(),"Louisiana"==state?highschool=e("#register-usa-hs option:selected").val():state=""):(state="",highschool=""),consoles=e("input[name='register-consoles[]']:checked"),consoles_a=[],e("input[name='register-consoles[]']:checked").each(function(){consoles_a.push(e(this).val())}),JSON.stringify(consoles_a),games=e("input[name='register-games[]']:checked"),games_a=[],e("input[name='register-games[]']:checked").each(function(){games_a.push(e(this).val())}),JSON.stringify(games_a),password=e("#register-page-password").val(),confirm=e("#register-page-confirm").val(),captcha=e("#register-page-captcha").val(),captchaa=e("#register-page-captcha-answer").val(),s.preventDefault(),a=t.cleanAccents(a),captcha!=captchaa)return e(".register_success").css("display",""),e(".register_success").fadeIn(1e3,"linear"),e(".register_success_text").fadeIn("slow"),e(".register_success_text").html("<strong>Error</strong> Incorrect CAPTCHA answer"),void e("#ezLeagueRegister button").prop("disabled",!1);a.length>=6?password==confirm&&""!=password&&password.length>=4?e.ajax({type:"POST",url:"submit.php",data:{form:"register-page",region:""+region,state:""+state,highschool:""+highschool,promo:""+promo,username:""+a,email:""+email,site_ref:""+site_ref,birthday:""+birthday,age_13:""+age_13,age_18:""+age_18,facebook:""+facebook,twitter:""+twitter,twitch:""+twitch,youtube:""+youtube,steam:""+steam,consoles:""+consoles_a,games:""+games_a,password:""+password,confirm:""+confirm}}).success(function(t){e(".register_success").css("display",""),e(".register_success").fadeIn(1e3,"linear"),e(".register_success_text").fadeIn("slow"),e(".register_success_text").html(t),"<p><strong>Success!</strong> Congratulations, your account has been created</p>"!=t&&"<p><strong>Success!</strong> Please check your e-mail for your confirmation link to finish registration"!=t||setTimeout(function(){window.location="home.php"},3e3),e("#ezLeagueRegister button").prop("disabled",!1)}):(e("#ezLeagueRegister button").prop("disabled",!1),e(".register_success").css("display",""),e(".register_success").fadeIn(1e3,"linear"),e(".register_success_text").fadeIn("slow"),e(".register_success_text").html("<strong>Error</strong> Passwords do not match, or is less than 6 characters")):(e("#ezLeagueRegister button").prop("disabled",!1),e(".register_success").css("display",""),e(".register_success").fadeIn(1e3,"linear"),e(".register_success_text").fadeIn("slow"),e(".register_success_text").html("<strong>Error</strong> Username is less than 6 characters"))})},userOrenaRegisterPage:function(){this.register_orena_page_form.submit(function(s){e("#newAccountRegistration button").prop("disabled",!0);var a=e("#register-key").val();if(first_name=e("#register-page-first-name").val(),last_name=e("#register-page-last-name").val(),username=e("#register-page-username").val(),email=e("#register-page-email").val(),site_ref=e("#register-site-ref").val(),birthday=e("#register-page-user-birthdate").val(),age_13=e("#register-page-age-thirteen").val(),age_18=e("#register-page-age-eighteen").val(),facebook=e("#register-page-facebook").val(),twitter=e("#register-page-twitter").val(),twitch=e("#register-page-twitch").val(),youtube=e("#register-page-youtube").val(),steam=e("#register-page-steam").val(),discord=e("#register-page-discord").val(),instagram=e("#register-page-instagram").val(),eezer=e("#register-page-eezer").val(),country=e("#register-country option:selected").val(),province=e("#register-province option:selected").val(),college=e("#register-usa-state option:selected").val(),highschool=e("#register-usa-hs option:selected").val(),consoles=e("input[name='register-consoles[]']:checked"),consoles_a=[],e("input[name='register-consoles[]']:checked").each(function(){consoles_a.push(e(this).val())}),JSON.stringify(consoles_a),games=e("input[name='register-games[]']:checked"),games_a=[],e("input[name='register-games[]']:checked").each(function(){games_a.push(e(this).val())}),JSON.stringify(games_a),password=e("#register-page-password").val(),confirm=e("#register-page-confirm").val(),captcha=e("#register-page-captcha").val(),captchaa=e("#register-page-captcha-answer").val(),s.preventDefault(),username=t.cleanAccents(username),captcha!=captchaa)return e(".register_success").css("display",""),e(".register_success").fadeIn(1e3,"linear"),e(".register_success_text").fadeIn("slow"),e(".register_success_text").html("<strong>Error</strong> Incorrect CAPTCHA answer"),void e("#ezLeagueRegister button").prop("disabled",!1);username.length>=6?password==confirm&&""!=password&&password.length>=4?e.ajax({type:"POST",url:"submit.php",data:{form:"register-orena-page",key:""+a,first_name:""+first_name,last_name:""+last_name,country:""+country,college:""+college,highschool:""+highschool,province:""+province,username:""+username,email:""+email,site_ref:""+site_ref,birthday:""+birthday,age_13:""+age_13,age_18:""+age_18,facebook:""+facebook,twitter:""+twitter,twitch:""+twitch,youtube:""+youtube,steam:""+steam,discord:""+discord,instagram:""+instagram,eezer:""+eezer,consoles:""+consoles_a,games:""+games_a,password:""+password,confirm:""+confirm}}).success(function(t){e(".register_success").css("display",""),e(".register_success").fadeIn(1e3,"linear"),e(".register_success_text").fadeIn("slow"),e(".register_success_text").html(t),"<p><strong>Success!</strong> Congratulations, your account has been created</p>"!=t&&"<p><strong>Success!</strong> Please check your e-mail for your confirmation link to finish registration"!=t||setTimeout(function(){window.location="home.php"},3e3)}):(e("#ezLeagueRegister button").prop("disabled",!1),e(".register_success").css("display",""),e(".register_success").fadeIn(1e3,"linear"),e(".register_success_text").fadeIn("slow"),e(".register_success_text").html("<strong>Error</strong> Passwords do not match, or is less than 6 characters")):(e("#ezLeagueRegister button").prop("disabled",!1),e(".register_success").css("display",""),e(".register_success").fadeIn(1e3,"linear"),e(".register_success_text").fadeIn("slow"),e(".register_success_text").html("<strong>Error</strong> Username is less than 6 characters"))})},userResetPassword:function(){this.reset_password_form.submit(function(t){var s=e("#reset-email").val();username=e("#reset-username").val(),t.preventDefault(),e.ajax({type:"POST",url:"submit.php",data:{form:"reset-password",email:""+s,username:""+username}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success_text").html(t),setTimeout(function(){location.reload()},3e3)})})},userUpdatePassword:function(){this.update_password_form.submit(function(t){var s=e("#new-password").val();confirm=e("#new-confirm").val(),user_id=e("#user_id").val(),t.preventDefault(),s==confirm&&""!=s&&s.length>=6?e.ajax({type:"POST",url:"submit.php",data:{form:"update-password",user_id:""+user_id,password:""+s}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success_text").html(t),setTimeout(function(){window.location="home.php"},3e3)}):(e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success_text").html("<strong>Error</strong> Passwords do not match, or is less than 6 characters"))})},contactForm:function(){this.contact_form.submit(function(t){var s=e("#contact-first-name").val();if(last_name=e("#contact-last-name").val(),email=e("#contact-email").val(),twitter=e("#contact-twitter").val(),message=e("#contact-message").val(),captcha=e("#contact-captcha").val(),captchaa=e("#contact-captcha-answer").val(),errors=0,e(".contact-us-btn").text("Sending..."),t.preventDefault(),""==s||""==email||""==message)return e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),void e(".success_text").html("<strong>Error</strong> All fields but <em>Twitter</em> are required");captcha==captchaa?e.ajax({type:"POST",url:"submit.php",data:{form:"contact-form",first_name:""+s,last_name:""+last_name,email:""+email,twitter:""+twitter,message:""+message}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success_text").html(t),setTimeout(function(){location.reload()},3e3)}):(e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success_text").html("<strong>Error</strong> CAPTCHA was incorrect"))})},sendMessage:function(){this.send_message_form.submit(function(t){var s=e("#to").val();from=e("#from").val(),subject=e("#subject").val(),message=e("textarea#inbox_message").val(),console.log(message),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-inbox.php",data:{form:"send-message",from:""+from,to:""+s,subject:""+subject,message:""+message}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success_text").html(t),setTimeout(function(){location.reload()},3e3)})})},bindEvents:function(){this.close_upcoming_btn.on("click",e.proxy(function(t){t.preventDefault(),this.close_upcoming_btn.hasClass("fa-minus")?(this.close_upcoming_btn.removeClass("fa-minus"),this.close_upcoming_btn.addClass("fa-plus"),this.upcoming_container.removeClass("closed"),this.upcoming_container.addClass("open"),this.upcoming_container.animate({height:"40px"},1e3),e.ajax({type:"POST",url:"lib/submit/show-upcoming.php",data:{form:"closed"}}).success(function(e){})):this.close_upcoming_btn.hasClass("fa-plus")&&(this.close_upcoming_btn.removeClass("fa-plus"),this.close_upcoming_btn.addClass("fa-minus"),this.upcoming_container.removeClass("closed"),this.upcoming_container.addClass("open"),this.upcoming_container.animate({height:"100%"},1e3),e.ajax({type:"POST",url:"lib/submit/show-upcoming.php",data:{form:"open"}}).success(function(e){}))},this)),this.join_organization_btn.on("click",e.proxy(function(t){t.preventDefault();var s=this.join_organization_btn.data("organization-id");e("#join-organization-confirm").dialog({resizable:!1,height:200,width:325,modal:!0,buttons:{"Join Organization":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"join-organization",organization_id:""+s}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},this)),this.leave_organization_btn.on("click",e.proxy(function(t){t.preventDefault();var s=this.leave_organization_btn.data("organization-id");e("#leave-organization-confirm").dialog({resizable:!1,height:200,width:325,modal:!0,buttons:{"Leave Organization":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"leave-organization",organization_id:""+s}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},this)),this.header_mobile_search_btn.on("click",e.proxy(function(t){t.preventDefault(),this.header_mobile_search_btn.hasClass("closed")?(this.header_mobile_search_btn.removeClass("closed"),this.header_mobile_search_btn.addClass("open"),e("#header-mobile-search #search").removeClass("closed"),e("#header-mobile-search #search").addClass("open"),e("#header-mobile-search #search").css("display","")):(this.header_mobile_search_btn.removeClass("open"),this.header_mobile_search_btn.addClass("closed"),e("#header-mobile-search #search").removeClass("open"),e("#header-mobile-search #search").addClass("closed"),e("#header-mobile-search #search").css("display","none"))},this)),this.header_mobile_search_close.on("click",e.proxy(function(t){t.preventDefault(),e("#header-mobile-search #search").css("display","none"),this.header_mobile_search_btn.removeClass("open"),this.header_mobile_search_btn.addClass("closed")},this))},cleanAccents:function(e){for(var t=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹÐ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],s={},a=0;a<t.length;a++)for(var n=t[a].letters,i=0;i<n.length;i++)s[n[i]]=t[a].base;return function(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return s[e]||e})}(e)}};e(document).ready(function(){t.init()})}(jQuery),function(e){var t={init:function(){this.cacheElements(),this.sendMessage(),this.addResponse(),this.bindEvents()},cacheElements:function(){this.send_inbox_message_form=e("#sendInboxMessage"),this.add_inbox_response_form=e("#addInboxResponse"),this.delete_message_button=e(".delete-message"),this.close_inbox_message_button=e(".close-message"),this.open_inbox_message_button=e(".open-message")},sendMessage:function(){this.send_inbox_message_form.submit(function(s){var a=e("#from").val();to=e("#to").val(),subject=e("#subject").val(),message=CKEDITOR.instances.inbox_message.getData(),s.preventDefault(),message=t.str_replace("&#39;","'",message),e.ajax({type:"POST",url:url_base+"lib/submit/submit-inbox.php",data:{form:"send-message",from:""+a,to:""+to,subject:""+subject,message:""+message}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),e("#sendInboxMessage button").prop("disabled",!0),setTimeout(function(){location.reload()},3e3)})})},addResponse:function(){this.add_inbox_response_form.submit(function(s){var a=e("#reply-author").val();msg_id=e("#reply-id").val(),message=CKEDITOR.instances.inbox_message.getData(),s.preventDefault(),message=t.str_replace("&#39;","'",message),e.ajax({type:"POST",url:url_base+"lib/submit/submit-inbox.php",data:{form:"add-reply",id:""+msg_id,author:""+a,message:""+message}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},deleteMessage:function(t){e("#delete-message-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Delete Message":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-inbox.php",data:{form:"delete-message",msg_id:""+t}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},bindEvents:function(){this.delete_message_button.each(function(){e(this).on("click",function(){var s=e(this).data("msg-id");t.deleteMessage(s)})}),this.open_inbox_message_button.each(function(){e(this).on("click",function(){var t=e(this).data("reply-message");e("#inbox-post-"+t).slideDown("slow"),e("#close-post-"+t).show(),e("#open-post-"+t).hide()})}),this.close_inbox_message_button.each(function(){e(this).on("click",function(){var t=e(this).data("reply-message");e("#inbox-post-"+t).slideUp("slow"),e("#open-post-"+t).show(),e("#close-post-"+t).hide()})})},str_replace:function(e,t,s,a){var n=0,i=0,r="",o="",c=0,u=0,l=[].concat(e),d=[].concat(t),m=s,h="[object Array]"===Object.prototype.toString.call(d),f="[object Array]"===Object.prototype.toString.call(m);for(m=[].concat(m),a&&(this.window[a]=0),n=0,c=m.length;n<c;n++)if(""!==m[n])for(i=0,u=l.length;i<u;i++)r=m[n]+"",o=h?void 0!==d[i]?d[i]:"":d[0],m[n]=r.split(l[i]).join(o),a&&m[n]!==r&&(this.window[a]+=(r.length-m[n].length)/l[i].length);return f?m:m[0]}};e(document).ready(function(){t.init()})}(jQuery),function(e){var t={init:function(){this.cacheElements(),this.updateChallengeDetails(),this.updateChatLog(),this.reportChallenge(),this.disputeChallenge(),this.updateChallengeInformation(),this.bindEvents()},cacheElements:function(){this.challenge_team_button=e(".challenge-team"),this.cancel_challenge_button=e(".cancel-challenge"),this.admin_cancel_challenge_button=e(".admin-cancel-challenge"),this.accept_details=e("#acceptLadderDetails"),this.reject_details=e("#rejectLadderDetails"),this.delete_screenshot=e(".delete-screenshot"),this.update_challenge_form=e("#challengeDetails"),this.update_chat_form=e("#challengeChat"),this.report_challenge_form=e("#challengeReport"),this.dispute_challenge_form=e("#disputeChallenge"),this.challenge_info_form=e("#challengeInformation"),this.match_prediction=e(".ladder-prediction"),this.close_running_game_ladder_button=e(".close-running-ladder-game"),this.open_running_game_ladder_button=e(".open-running-ladder-game"),this.close_open_game_ladder_button=e(".close-open-ladder-game"),this.open_open_game_ladder_button=e(".open-open-ladder-game"),this.close_completed_game_ladder_button=e(".close-completed-ladder-game"),this.open_completed_game_ladder_button=e(".open-completed-ladder-game")},makeChallenge:function(t,s,a,n,i){e.ajax({type:"POST",url:url_base+"lib/submit/submit-ladder.php",data:{form:"make-challenge",ladder_id:""+i,challengee:""+a,challengee_team:""+n,challenger:""+t,challenger_team:""+s}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success_text").html(t),setTimeout(function(){location.reload()},3e3)})},cancelChallenge:function(t){e.ajax({type:"POST",url:url_base+"lib/submit/submit-ladder.php",data:{form:"cancel-challenge",challenge_id:""+t}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success_text").html(t),setTimeout(function(){location.reload()},3e3)})},updateChallengeDetails:function(){this.update_challenge_form.submit(function(t){var s=e("#challenge-id").val();date=e("#challenge-date").val(),time=e("#challenge-time").val(),zone=e("#challenge-zone").val(),stream_url=e("#challenge-stream-url").val(),twitch_url=e("#challenge-twitch-channel").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-ladder.php",data:{form:"update-challenge-details",id:""+s,date:""+date,time:""+time,zone:""+zone,stream_url:""+stream_url,twitch_url:""+twitch_url}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},updateChallengeInformation:function(){this.challenge_info_form.submit(function(t){var s=e("#challenge-id").val();ip=e("#challenge-server-ip").val(),password=e("#challenge-server-password").val(),moderator=e("#challenge-server-moderator").val(),map=e("#challenge-map").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-ladder.php",data:{form:"update-challenge-information",id:""+s,ip:""+ip,password:""+password,moderator:""+moderator,map:""+map}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},updateChatLog:function(){this.update_chat_form.submit(function(t){var s=e("#log-id").val();username=e("#log-username").val(),message=e("textarea#log-message").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-ladder.php",data:{form:"add-chat-message",id:""+s,username:""+username,message:""+message}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},reportChallenge:function(){this.report_challenge_form.submit(function(t){var s=e("#challenge-id").val();home_score=e("#challenge-home-score").val(),home_team=e("#challenge-home-team").val(),away_score=e("#challenge-away-score").val(),away_team=e("#challenge-away-team").val(),reporter=e("#challenge-reporter").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-ladder.php",data:{form:"report-score",id:""+s,home_team:""+home_team,home_score:""+home_score,away_team:""+away_team,away_score:""+away_score,reporter:""+reporter}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},disputeChallenge:function(){this.dispute_challenge_form.submit(function(t){var s=e("#dispute-challenge-id").val();reporter=e("#dispute-reporter").val(),reason=e("textarea#dispute-reason").val(),category=e("#dispute-category").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-ladder.php",data:{form:"dispute-challenge",id:""+s,reporter:""+reporter,dispute:""+reason,category:""+category}}).success(function(t){e(".dispute").css("display",""),e(".dispute").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},makeLadderPrediction:function(t,s,a){e("#make-prediction-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Make Prediction":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-ladder.php",data:{form:"make-prediction",team_id:""+t,challenge_id:""+s,user:""+a}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},bindEvents:function(){this.challenge_team_button.each(function(){e(this).on("click",function(){var s=e(this).data("challengee-id");team_name=e(this).data("challengee-team"),guild_id=e(this).data("challenger-id"),guild_name=e(this).data("challenger-team"),ladder_id=e(this).data("ladder-id"),e(this).text("Sending Challenge..."),e("#make-challenge-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Make Challenge":function(){t.makeChallenge(guild_id,guild_name,s,team_name,ladder_id),e(this).dialog("close")},Cancel:function(){e(".challenge-team").text("Challenge"),e(this).dialog("close")}}})})}),this.cancel_challenge_button.each(function(){e(this).on("click",function(){var s=e(this).data("challenge-id");e("#cancel-challenge-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Cancel Challenge":function(){t.cancelChallenge(s),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})})}),this.admin_cancel_challenge_button.on("click",e.proxy(function(s){s.preventDefault();var a=e(this.admin_cancel_challenge_button).data("challenge-id");e("#cancel-challenge-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Cancel Challenge":function(){t.cancelChallenge(a),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},this)),this.accept_details.on("click",e.proxy(function(t){t.preventDefault();var s=e(this.accept_details).data("challenge-side");challenge_id=e(this.accept_details).data("challenge-id"),e.ajax({type:"POST",url:url_base+"lib/submit/submit-ladder.php",data:{form:"accept-challenge-details",id:""+challenge_id,side:""+s}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})},this)),this.reject_details.on("click",e.proxy(function(t){t.preventDefault();var s=e(this.reject_details).data("challenge-side");challenge_id=e(this.reject_details).data("challenge-id"),e.ajax({type:"POST",url:url_base+"lib/submit/submit-ladder.php",data:{form:"reject-challenge-details",id:""+challenge_id,side:""+s}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})},this)),this.delete_screenshot.each(function(){e(this).on("click",function(){var t=e(this).data("screenshot-id");e.ajax({type:"POST",url:url_base+"lib/submit/submit-ladder.php",data:{form:"delete-screenshot",id:""+t}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})}),this.match_prediction.each(function(){e(this).on("click",function(){var s=e(this).data("team-id");challenge_id=e(this).data("challenge-id"),username=e(this).data("username"),t.makeLadderPrediction(s,challenge_id,username)})}),this.open_running_game_ladder_button.each(function(){e(this).on("click",function(){var t=e(this).data("ladder-game");e("#game-running-ladders-"+t).slideDown("slow"),e("#close-running-ladder-game-"+t).show(),e("#open-running-ladder-game-"+t).hide()})}),this.close_running_game_ladder_button.each(function(){e(this).on("click",function(){var t=e(this).data("ladder-game");e("#game-running-ladders-"+t).slideUp("slow"),e("#open-running-ladder-game-"+t).show(),e("#close-running-ladder-game-"+t).hide()})}),this.open_open_game_ladder_button.each(function(){e(this).on("click",function(){var t=e(this).data("ladder-game");e("#game-open-ladders-"+t).slideDown("slow"),e("#close-open-ladder-game-"+t).show(),e("#open-open-ladder-game-"+t).hide()})}),this.close_open_game_ladder_button.each(function(){e(this).on("click",function(){var t=e(this).data("ladder-game");e("#game-open-ladders-"+t).slideUp("slow"),e("#open-open-ladder-game-"+t).show(),e("#close-open-ladder-game-"+t).hide()})}),this.open_completed_game_ladder_button.each(function(){e(this).on("click",function(){var t=e(this).data("ladder-game");e("#game-completed-ladders-"+t).slideDown("slow"),e("#close-completed-ladder-game-"+t).show(),e("#open-completed-ladder-game-"+t).hide()})}),this.close_completed_game_ladder_button.each(function(){e(this).on("click",function(){var t=e(this).data("ladder-game");e("#game-completed-ladders-"+t).slideUp("slow"),e("#open-completed-ladder-game-"+t).show(),e("#close-completed-ladder-game-"+t).hide()})})}};e(document).ready(function(){t.init()})}(jQuery),function(e){var t={init:function(){this.cacheElements(),this.updateMatchDetails(),this.updateChatLog(),this.reportMatch(),this.disputeMatch(),this.updateMatchInformation(),this.bindEvents()},cacheElements:function(){this.accept_details=e("#acceptDetails"),this.reject_details=e("#rejectDetails"),this.update_match_form=e("#matchDetails"),this.update_chat_form=e("#matchChat"),this.report_match_form=e("#matchReport"),this.dispute_match_form=e("#disputeMatch"),this.match_info_form=e("#matchInformation"),this.delete_screenshot=e(".delete-screenshot"),this.match_prediction=e(".prediction"),this.close_running_game_league_button=e(".close-running-league-game"),this.open_running_game_league_button=e(".open-running-league-game"),this.close_open_game_league_button=e(".close-open-league-game"),this.open_open_game_league_button=e(".open-open-league-game"),this.close_completed_game_league_button=e(".close-completed-league-game"),this.open_completed_game_league_button=e(".open-completed-league-game")},updateMatchDetails:function(){this.update_match_form.submit(function(t){var s=e("#match-id").val();date=e("#match-date").val(),time=e("#match-time").val(),zone=e("#match-zone").val(),stream_url=e("#match-stream-url").val(),twitch_url=e("#match-twitch-channel").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-league.php",data:{form:"update-match-details",id:""+s,date:""+date,time:""+time,zone:""+zone,stream_url:""+stream_url,twitch_url:""+twitch_url}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},updateMatchInformation:function(){this.match_info_form.submit(function(t){var s=e("#match-id").val();ip=e("#match-server-ip").val(),password=e("#match-server-password").val(),moderator=e("#match-server-moderator").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-league.php",data:{form:"update-match-information",id:""+s,ip:""+ip,password:""+password,moderator:""+moderator}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},updateChatLog:function(){this.update_chat_form.submit(function(t){e("#matchChat button").prop("disabled",!0);var s=e("#log-id").val();username=e("#log-username").val(),message=e("textarea#log-message").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-league.php",data:{form:"add-chat-message",id:""+s,username:""+username,message:""+message}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},reportMatch:function(){this.report_match_form.submit(function(t){var s=e("#match-id").val();home_score=e("#match-home-score").val(),home_team=e("#match-home-team").val(),away_score=e("#match-away-score").val(),away_team=e("#match-away-team").val(),reporter=e("#match-reporter").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-league.php",data:{form:"report-score",id:""+s,home_team:""+home_team,home_score:""+home_score,away_team:""+away_team,away_score:""+away_score,reporter:""+reporter}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},disputeMatch:function(){this.dispute_match_form.submit(function(t){var s=e("#dispute-match-id").val();reporter=e("#dispute-reporter").val(),reason=e("textarea#dispute-reason").val(),category=e("#dispute-category").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-league.php",data:{form:"dispute-match",id:""+s,reporter:""+reporter,dispute:""+reason,category:""+category}}).success(function(t){e(".dispute").css("display",""),e(".dispute").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},deleteScreenshot:function(t){e("#delete-screenshot-confirm").dialog({resizable:!1,height:175,modal:!0,buttons:{"Delete Screenshot":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-league.php",data:{form:"delete-screenshot",id:""+t}}).success(function(t){e(".screens").css("display",""),e(".screens").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},makePrediction:function(t,s,a){e("#make-prediction-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Make Prediction":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-league.php",data:{form:"make-prediction",team_id:""+t,match_id:""+s,user:""+a}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},bindEvents:function(){this.accept_details.on("click",e.proxy(function(t){t.preventDefault();var s=e("#match-side").val();match_id=e("#match-id").val(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-league.php",data:{form:"accept-match-details",id:""+match_id,side:""+s}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})},this)),this.reject_details.on("click",e.proxy(function(t){t.preventDefault();var s=e("#match-side").val();match_id=e("#match-id").val(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-league.php",data:{form:"reject-match-details",id:""+match_id,side:""+s}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})},this)),this.delete_screenshot.each(function(){e(this).on("click",function(){var s=e(this).data("screenshot-id");t.deleteScreenshot(s)})}),this.match_prediction.each(function(){e(this).on("click",function(){var s=e(this).data("team-id");match_id=e(this).data("match-id"),username=e(this).data("username"),t.makePrediction(s,match_id,username)})}),this.open_running_game_league_button.each(function(){e(this).on("click",function(){var t=e(this).data("league-game");e("#game-running-leagues-"+t).slideDown("slow"),e("#close-running-league-game-"+t).show(),e("#open-running-league-game-"+t).hide()})}),this.close_running_game_league_button.each(function(){e(this).on("click",function(){var t=e(this).data("league-game");e("#game-running-leagues-"+t).slideUp("slow"),e("#open-running-league-game-"+t).show(),e("#close-running-league-game-"+t).hide()})}),this.open_open_game_league_button.each(function(){e(this).on("click",function(){var t=e(this).data("league-game");e("#game-open-leagues-"+t).slideDown("slow"),e("#close-open-league-game-"+t).show(),e("#open-open-league-game-"+t).hide()})}),this.close_open_game_league_button.each(function(){e(this).on("click",function(){var t=e(this).data("league-game");e("#game-open-leagues-"+t).slideUp("slow"),e("#open-open-league-game-"+t).show(),e("#close-open-league-game-"+t).hide()})}),this.open_completed_game_league_button.each(function(){e(this).on("click",function(){var t=e(this).data("league-game");e("#game-completed-leagues-"+t).slideDown("slow"),e("#close-completed-league-game-"+t).show(),e("#open-completed-league-game-"+t).hide()})}),this.close_completed_game_league_button.each(function(){e(this).on("click",function(){var t=e(this).data("league-game");e("#game-completed-leagues-"+t).slideUp("slow"),e("#open-completed-league-game-"+t).show(),e("#close-completed-league-game-"+t).hide()})})}};e(document).ready(function(){t.init()})}(jQuery),function(e){var t={init:function(){this.cacheElements(),this.bindEvents()},cacheElements:function(){this.view_screenshot=e(".viewScreenshot"),this.view_network_screenshot=e(".viewNetworkScreenshot"),this.close_screenshot=e(".popup-close")},bindEvents:function(){this.view_screenshot.on("click",e.proxy(function(t){t.preventDefault();var s=e(t.currentTarget),a=s.data("screen-file"),n=s.data("screen-uploader");e(".popup-container .popup").html("<p><strong>filename:</strong> "+a+" &mdash; <strong>uploaded by</strong> "+n+'</p><img src="../../screenshots/'+a+'" />'),e(".popup-backdrop").show(),e(".popup-container").show()},this)),this.view_network_screenshot.on("click",e.proxy(function(t){t.preventDefault();var s=e(t.currentTarget),a=s.data("screen-file"),n=s.data("screen-uploader");e(".popup-container .popup").html("<p><strong>filename:</strong> "+a+" &mdash; <strong>uploaded by</strong> "+n+'</p><img src="screenshots/'+a+'" />'),e(".popup-backdrop").show(),e(".popup-container").show()},this)),this.close_screenshot.on("click",e.proxy(function(t){t.preventDefault(),e(".popup-backdrop").hide(),e(".popup-container").hide()},this))}};e(document).ready(function(){t.init()})}(jQuery),function(e){var t={init:function(){if(this.cacheElements(),this.bindEvents(),this.addComment(),current_news_post=this.comment_list.data("news-id"),last_comment_id=this.news_post.data("last-comment-id"),0!=current_news_post&&"localhost"!=window.location.hostname)setInterval(function(){t.updateComments(current_news_post,last_comment_id)},5e3)},cacheElements:function(){this.add_comment_form=e("#addComment"),this.edit_comment=e(".edit-comment"),this.delete_comment=e(".delete-comment"),this.comment_list=e("#comment-list"),this.comment_total=e("#comment-total"),this.news_post=e("#last-comment-posted"),this.quote_reply=e(".btn-comment-quote")},updateComments:function(s,a){s>0&&e.ajax({type:"POST",url:url_base+"lib/submit/submit-news.php",data:{form:"update-comments-check",post_id:""+s,last_comment_id:""+a}}).success(function(e){if(0!=e){var s=JSON.parse(e);t.displayUpdatedComments(s)}})},displayUpdatedComments:function(t){e("#addComment button").prop("disabled",!1),e.each(t,function(t,s){var a='<article class="col-lg-12 data-block nested news-post"><div class="data-container"><header><img alt="" src="../../avatars/unknown.png" class="media-object"><a href="view-member.php?id='+s.author_id+'" class="comment-author">'+s.author+'</a><br><span>posted</span> <span class="text-primary">just now</span></header><section><p>'+s.comment+'</p><a href="#" class="btn btn-info btn-small">Quote Reply</a></section></div></article>',n=Number(e("#comment-total").text());e("#comment-total").text(n+=1),last_comment_id=s.id,e("#comment-list").prepend(e(a).fadeIn(1500))})},addComment:function(){this.add_comment_form.submit(function(t){var s=e("#author").val();author_id=e("#author_id").val(),post_id=e("#post_id").val(),comment=e("textarea#comment").val(),comments=e("#comment-total").text(),t.preventDefault(),e("#addComment button").prop("disabled",!0),e.ajax({type:"POST",url:url_base+"lib/submit/submit-news.php",data:{form:"add-comment",post_id:""+post_id,author:""+s,author_id:""+author_id,comment:""+comment}}).success(function(t){JSON.parse(t);e("#comment").val(""),0==comments&&setTimeout(function(){location.reload()},3e3)})})},displayComment:function(t){var s='<article class="col-lg-12 data-block nested news-post"><div class="data-container"><header><img alt="" src="avatars/unknown.png" class="media-object"><a href="view-member.php?id='+t.author_id+'" class="comment-author">'+t.author+'</a><br><span>posted</span> <span class="text-primary">just now</span></header><section><p>'+t.comment+'</p><a href="#" class="btn btn-info btn-small">Quote Reply</a></section></div></article>',a=Number(this.comment_total.text());this.comment_total.text(a+=1),this.comment_list.prepend(e(s).fadeIn(1500))},deleteComment:function(t){e("#delete-news-comment-confirm").dialog({resizable:!1,height:175,modal:!0,buttons:{"Delete Comment":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-news.php",data:{form:"delete-comment",comment_id:""+t}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},bindEvents:function(){this.edit_comment.each(function(){e(this).on("click",function(){var t=e(this).data("comment-id");e.ajax({type:"POST",async:!1,url:"get_news_comment.php",data:{comment_id:""+t}}).success(function(t){e("#editCommentModal").html(t)})})}),this.delete_comment.each(function(){e(this).on("click",function(){var s=e(this).data("comment-id");t.deleteComment(s)})}),this.quote_reply.each(function(){e(this).on("click",function(){var t=e(this).data("comment-id");quote=e("#comment-text-"+t+" p").text(),e("#comment").val('"'+quote+'"')})})}};e(document).ready(function(){t.init()})}(jQuery),function(e){var t={init:function(){this.cacheElements(),0==active_1v1&&jQuery("#team-name-details").length>0&&this.loadStyling(),this.createTeam(),this.createQuickTeam(),this.teamSettings(),this.teamPassword(),this.joinTeamPassword(),this.updateLeagueRoster(),this.updateLadderRoster(),this.updateTournamentRoster(),this.bindEvents()},cacheElements:function(){this.create_team_form=e("#createTeam"),this.create_quick_team_form=e("#createQuickTeam"),this.team_settings_form=e("#teamSettings"),this.team_password_form=e("#teamPassword"),this.join_team_password_form=e("#ezLeagueJoinTeam"),this.league_member_form=e("#addLeagueMember"),this.ladder_member_form=e("#addLadderMember"),this.tournament_member_form=e("#addTournamentMember"),this.kick_member=e(".kick-member"),this.remove_logo=e(".remove-team-logo"),this.remove_league_member=e(".remove-league-member"),this.remove_ladder_member=e(".remove-ladder-member"),this.remove_tournament_member=e(".remove-tournament-member"),this.register_tournament_team=e(".register-tournament-team"),this.register_league_team=e(".register-league-team"),this.register_ladder_team=e(".register-ladder-team"),this.revoke_team_invite=e(".revoke-invite"),this.resend_team_invite=e(".resend-invite"),this.delete_team_invite=e(".delete-invite"),this.team_type_select=e("#team-type"),this.team_info_div=e("#team-information"),this.team_details_div=e("#team-name-details"),this.team_admin_val=e("#team-admin").val(),this.team_name_input=e("#team-name"),this.team_password_input=e("#team-password"),this.team_game_select=e("#team-game"),this.single_notes=e("#single-notes"),this.team_notes=e("#team-notes"),this.join_team_organization_btn=e(".join-team-organization"),this.leave_team_organization_btn=e(".leave-team-organization")},loadStyling:function(){this.team_details_div.css("display","none"),this.team_info_div.css("display","none")},createTeam:function(){this.create_team_form.submit(function(s){var a=e("#team-name").val();abbr=e("#team-abbreviation").val(),website=e("#team-website").val(),password=e("#team-password").val(),confirm=e("#team-confirm").val(),admin=e("#team-admin").val(),game=e("#team-game option:selected").val(),type=e("#team-type option:selected").val(),errors=0,s.preventDefault(),a=t.cleanAccents(a),abbr=t.cleanAccents(abbr),""==game&&(e(".game").css("display",""),e(".game").fadeIn(1e3,"linear"),e(".game").fadeIn("slow"),e(".game").html("<strong>Error</strong> must select a game "),errors++),a.length<3?(e(".name").css("display",""),e(".name").fadeIn(1e3,"linear"),e(".name").fadeIn("slow"),e(".name").html("<strong>Error</strong> must be 3-30 characters "),errors++):e(".name").css("display",""),abbr.length<3||abbr.length>5?(e(".abbr").css("display",""),e(".abbr").fadeIn(1e3,"linear"),e(".abbr").fadeIn("slow"),e(".abbr").html("<strong>Error</strong> must be 3-5 characters "),errors++):e(".abbr").css("display",""),password.length<6?(e(".password").css("display",""),e(".password").fadeIn(1e3,"linear"),e(".password").fadeIn("slow"),e(".password").html("<strong>Error</strong> must be at least 6 characters "),errors++):e(".password").css("display",""),0==errors&&e.ajax({type:"POST",url:url_base+"lib/submit/submit-team.php",data:{form:"create-team",team:""+a,abbr:""+abbr,website:""+website,admin:""+admin,password:""+password,game:""+game,type:""+type}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),t.indexOf("Team has been created")>=0&&(e("#createTeam button").prop("disabled",!0),setTimeout(function(){window.location="home.php"},3e3))})})},createQuickTeam:function(){this.create_quick_team_form.submit(function(s){var a=e("#quick-team-name").val();abbr=e("#quick-team-abbreviation").val(),password=e("#quick-team-password").val(),confirm=e("#quick-team-confirm").val(),admin=e("#quick-team-admin").val(),game=e("#quick-team-game").val(),event_id=e("#quick-event-id").val(),website="",type="team",errors=0,s.preventDefault(),a=t.cleanAccents(a),abbr=t.cleanAccents(abbr),""==game&&(e(".game").css("display",""),e(".game").fadeIn(1e3,"linear"),e(".game").fadeIn("slow"),e(".game").html("<strong>Error</strong> must select a game "),errors++),a.length<3?(e(".name").css("display",""),e(".name").fadeIn(1e3,"linear"),e(".name").fadeIn("slow"),e(".name").html("<strong>Error</strong> must be 3-30 characters "),errors++):e(".name").css("display",""),abbr.length<3||abbr.length>5?(e(".abbr").css("display",""),e(".abbr").fadeIn(1e3,"linear"),e(".abbr").fadeIn("slow"),e(".abbr").html("<strong>Error</strong> must be 3-5 characters "),errors++):e(".abbr").css("display",""),password.length<6?(e(".password").css("display",""),e(".password").fadeIn(1e3,"linear"),e(".password").fadeIn("slow"),e(".password").html("<strong>Error</strong> must be at least 6 characters "),errors++):e(".password").css("display",""),0==errors&&e.ajax({type:"POST",url:url_base+"lib/submit/submit-team.php",data:{form:"quick-create-team",event_id:""+event_id,team:""+a,abbr:""+abbr,website:""+website,admin:""+admin,password:""+password,game:""+game,type:""+type}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),e(".quick-team-submit").prop("disabled",!0),setTimeout(function(){location.reload()},3e3)})})},teamSettings:function(){this.team_settings_form.submit(function(s){var a=e("#team-admin").val();leader=e("#team-leader").val(),coleader=e("#team-coleader").val(),website=e("#team-website").val(),facebook=e("#team-facebook").val(),twitch=e("#team-twitch").val(),twitter=e("#team-twitter").val(),youtube=e("#team-youtube").val(),instagram=e("#team-instagram").val(),discord=e("#team-discord").val(),about=CKEDITOR.instances["team-about"].getData(),id=e("#team-id").val(),s.preventDefault(),about=t.str_replace("&#39;","'",about),e.ajax({type:"POST",url:url_base+"lib/submit/submit-team.php",data:{form:"team-settings",admin:""+a,leader:""+leader,coleader:""+coleader,website:""+website,facebook:""+facebook,twitch:""+twitch,twitter:""+twitter,youtube:""+youtube,instagram:""+instagram,discord:""+discord,about:""+about,id:""+id}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},teamPassword:function(){this.team_password_form.submit(function(t){var s=e("#team-join").val();confirm=e("#team-confirm").val(),id=e("#team-id").val(),errors=0,t.preventDefault(),s.length<6||confirm.length<6||s.length>16||confirm.length>16?(e(".password").css("display",""),e(".password").fadeIn(1e3,"linear"),e(".password").fadeIn("slow"),e(".password").html("<strong>Error</strong> must be 6-16 characters "),errors++):e(".password").css("display",""),s!=confirm?(e(".confirm").css("display",""),e(".confirm").fadeIn(1e3,"linear"),e(".confirm").fadeIn("slow"),e(".confirm").html("<strong>Error</strong> Passwords do not match "),errors++):e(".confirm").css("display",""),0==errors&&e.ajax({type:"POST",url:url_base+"lib/submit/submit-team.php",data:{form:"team-password",password:""+s,id:""+id}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},joinTeamPassword:function(){this.join_team_password_form.submit(function(t){var s=e("#team-join-password").val();if(confirm=e("#team-join-confirm").val(),team_id=e("#team-join-id").val(),user_id=e("#team-join-user-id").val(),errors=0,t.preventDefault(),!e("#team-join-confirm").is(":checked"))return e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success").fadeIn("slow"),void e(".success_text").html("<strong>Error</strong> please confirm join request");s.length<6?(e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success").fadeIn("slow"),e(".success_text").html("<strong>Error</strong> must be at least 6 characters "),errors++):e(".success").css("display",""),0==errors&&e.ajax({type:"POST",url:url_base+"lib/submit/submit-team.php",data:{form:"team-join-password",password:""+s,team_id:""+team_id,user_id:""+user_id}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},updateLeagueRoster:function(){this.league_member_form.submit(function(t){var s=e("#league-id").val();user=e("#user-id").val(),team=e("#team-id").val(),roster=e("#roster-id").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-team.php",data:{form:"add-league-roster",league:""+s,user:""+user,team:""+team,roster:""+roster}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},updateLadderRoster:function(){this.ladder_member_form.submit(function(t){var s=e("#ladder-id").val();user=e("#user-id").val(),team=e("#team-id").val(),roster=e("#roster-id").val(),t.preventDefault(),e("#addLadderMember button").prop("disabled",!0),e.ajax({type:"POST",url:url_base+"lib/submit/submit-team.php",data:{form:"add-ladder-roster",ladder:""+s,user:""+user,team:""+team,roster:""+roster}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},updateTournamentRoster:function(){this.tournament_member_form.submit(function(t){var s=e("#tournament-id").val();user=e("#user-id").val(),team=e("#team-id").val(),roster=e("#roster-id").val(),t.preventDefault(),e("#addTournamentMember button").prop("disabled",!0),e.ajax({type:"POST",url:url_base+"lib/submit/submit-team.php",data:{form:"add-tournament-roster",tournament:""+s,user:""+user,team:""+team,roster:""+roster}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},kickTeamMember:function(t,s){e("#kick-member-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Kick Member":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-team.php",data:{form:"team-kick-member",team_id:""+t,member:""+s}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},removeLogo:function(t){e("#remove-logo-confirm").dialog({resizable:!1,height:175,modal:!0,buttons:{"Remove Logo":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-team.php",data:{form:"remove-logo",id:""+t}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},removeLeagueMember:function(t,s,a){e("#remove-league-member-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Remove Member":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-team.php",data:{form:"remove-league-roster",league_id:""+t,team_id:""+s,user_id:""+a}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},removeLadderMember:function(t,s,a){e(".remove-ladder-member").prop("disabled",!0),e("#remove-ladder-member-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Remove Member":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-team.php",data:{form:"remove-ladder-roster",ladder_id:""+t,team_id:""+s,user_id:""+a}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},removeTournamentMember:function(t,s,a){e(".remove-tournament-member").prop("disabled",!0),e("#remove-tournament-member-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Remove Member":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-team.php",data:{form:"remove-tournament-roster",tournament_id:""+t,team_id:""+s,user_id:""+a}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},registerTournamentTeam:function(t,s,a){e(".register-tournament-team").prop("disabled",!0),e("#register-tournament-team-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Join Tournament":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-team.php",data:{form:"register-tournament",tid:""+t,tournament_id:""+s,credits:""+a}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close"),e(".register-tournament-team").prop("disabled",!1)}}})},registerLeagueTeam:function(t,s,a){e(".register-league-team").prop("disabled",!0),e("#register-team-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Join League":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-team.php",data:{form:"register-league",tid:""+t,lid:""+s,credits:""+a}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close"),e(".register-league-team").prop("disabled",!1)}}})},registerLadderTeam:function(t,s,a){e(".register-ladder-team").prop("disabled",!0),e("#register-ladder-team-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Join Ladder":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-team.php",data:{form:"register-ladder",tid:""+t,ladder_id:""+s,credits:""+a}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close"),e(".register-ladder-team").prop("disabled",!1)}}})},revokeTeamInvite:function(t,s,a,n){e("#revoke-team-invite-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Revoke Invite":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-team.php",data:{form:"revoke-invite",invite_id:""+t,tid:""+s,username:""+a,user_id:""+n}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},resendTeamInvite:function(t,s,a,n){e("#resend-team-invite-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Resend Invite":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-team.php",data:{form:"resend-invite",invite_id:""+t,tid:""+s,username:""+a,user_id:""+n}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},deleteTeamInvite:function(t,s,a,n){e("#delete-team-invite-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Delete Invite":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-team.php",data:{form:"delete-invite",invite_id:""+t,tid:""+s,username:""+a,user_id:""+n}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},bindEvents:function(){this.team_type_select.on("change",e.proxy(function(t){var s=this.team_type_select.val();"1v1"==s?(this.team_details_div.css("display",""),this.team_info_div.css("display","none"),this.team_name_input.val(this.team_admin_val),this.team_password_input.val(this.team_admin_val+"1v1"),this.team_game_select.val("all"),this.single_notes.css("display",""),this.team_notes.css("display","none"),this.team_name_input.prop("disabled",!0),e("#createTeam button").prop("disabled",!1)):"team"==s?(this.team_info_div.css("display",""),this.team_details_div.css("display",""),this.team_name_input.val(""),this.team_password_input.val(""),this.team_game_select.val(""),this.single_notes.css("display","none"),this.team_notes.css("display",""),this.team_name_input.prop("disabled",!1),e("#createTeam button").prop("disabled",!1)):(this.team_details_div.css("display","none"),this.team_info_div.css("display","none"),this.single_notes.css("display","none"),this.team_notes.css("display","none"),e("#createTeam button").prop("disabled",!0))},this)),this.kick_member.each(function(){e(this).on("click",function(){var s=e(this).data("member-username");team_id=e(this).data("team-id"),t.kickTeamMember(team_id,s)})}),this.remove_logo.each(function(){e(this).on("click",function(){var s=e(this).data("team-id");t.removeLogo(s)})}),this.remove_league_member.each(function(){e(this).on("click",function(){var s=e(this).data("league-id");team_id=e(this).data("team-id"),user_id=e(this).data("user-id"),t.removeLeagueMember(s,team_id,user_id)})}),this.remove_ladder_member.each(function(){e(this).on("click",function(){var s=e(this).data("ladder-id");team_id=e(this).data("team-id"),user_id=e(this).data("user-id"),t.removeLadderMember(s,team_id,user_id)})}),this.remove_tournament_member.each(function(){e(this).on("click",function(){var s=e(this).data("tournament-id");team_id=e(this).data("team-id"),user_id=e(this).data("user-id"),t.removeTournamentMember(s,team_id,user_id)})}),this.register_tournament_team.on("click",e.proxy(function(s){s.preventDefault();var a=e(this.register_tournament_team).data("team-id");tournament_id=e(this.register_tournament_team).data("tournament-id"),credits=e(this.register_tournament_team).data("tournament-credits"),t.registerTournamentTeam(a,tournament_id,credits)},this)),this.register_league_team.on("click",e.proxy(function(s){s.preventDefault();var a=e(this.register_league_team).data("team-id");league_id=e(this.register_league_team).data("league-id"),credits=e(this.register_league_team).data("league-credits"),t.registerLeagueTeam(a,league_id,credits)},this)),this.register_ladder_team.on("click",e.proxy(function(s){s.preventDefault();var a=e(this.register_ladder_team).data("team-id");ladder_id=e(this.register_ladder_team).data("ladder-id"),credits=e(this.register_ladder_team).data("ladder-credits"),t.registerLadderTeam(a,ladder_id,credits)},this)),this.revoke_team_invite.each(function(){e(this).on("click",function(){var s=e(this).data("invite-username");team_id=e(this).data("invite-team-id"),user_id=e(this).data("invite-user-id"),invite_id=e(this).data("invite-id"),t.revokeTeamInvite(invite_id,team_id,s,user_id)})}),this.resend_team_invite.each(function(){e(this).on("click",function(){var s=e(this).data("invite-username");team_id=e(this).data("invite-team-id"),user_id=e(this).data("invite-user-id"),invite_id=e(this).data("invite-id"),t.resendTeamInvite(invite_id,team_id,s,user_id)})}),this.delete_team_invite.each(function(){e(this).on("click",function(){var s=e(this).data("invite-username");team_id=e(this).data("invite-team-id"),user_id=e(this).data("invite-user-id"),invite_id=e(this).data("invite-id"),t.deleteTeamInvite(invite_id,team_id,s,user_id)})}),this.join_team_organization_btn.on("click",e.proxy(function(t){t.preventDefault();var s=this.join_team_organization_btn.data("organization-id");e("#join-team-organization-confirm").dialog({resizable:!1,height:200,width:325,modal:!0,buttons:{"Join Organization":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-team.php",data:{form:"join-team-organization",organization_id:""+s}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},this)),this.leave_team_organization_btn.on("click",e.proxy(function(t){t.preventDefault();var s=this.leave_team_organization_btn.data("organization-id");e("#leave-team-organization-confirm").dialog({resizable:!1,height:200,width:325,modal:!0,buttons:{"Leave Organization":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-team.php",data:{form:"leave-team-organization",organization_id:""+s}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},this))},str_replace:function(e,t,s,a){var n=0,i=0,r="",o="",c=0,u=0,l=[].concat(e),d=[].concat(t),m=s,h="[object Array]"===Object.prototype.toString.call(d),f="[object Array]"===Object.prototype.toString.call(m);for(m=[].concat(m),a&&(this.window[a]=0),n=0,c=m.length;n<c;n++)if(""!==m[n])for(i=0,u=l.length;i<u;i++)r=m[n]+"",o=h?void 0!==d[i]?d[i]:"":d[0],m[n]=r.split(l[i]).join(o),a&&m[n]!==r&&(this.window[a]+=(r.length-m[n].length)/l[i].length);return f?m:m[0]},cleanAccents:function(e){for(var t=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹÐ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],s={},a=0;a<t.length;a++)for(var n=t[a].letters,i=0;i<n.length;i++)s[n[i]]=t[a].base;return function(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return s[e]||e})}(e)}};e(document).ready(function(){t.init()})}(jQuery),function(e){var t={init:function(){this.cacheElements(),this.updateMatchDetails(),this.updateChatLog(),this.reportMatch(),this.disputeMatch(),this.updateMatchInformation(),this.bindEvents()},cacheElements:function(){this.accept_details=e("#acceptTournamentDetails"),this.reject_details=e("#rejectTournamentDetails"),this.update_match_form=e("#tournamentMatchDetails"),this.update_chat_form=e("#tournamentMatchChat"),this.report_match_form=e("#tournamentMatchReport"),this.dispute_match_form=e("#disputeMatch"),this.match_info_form=e("#tournamentMatchInformation"),this.delete_screenshot=e(".delete-tournament-screenshot"),this.team_check_in_btn=e(".team-tournament-check-in"),this.close_running_game_tournament_button=e(".close-running-tournament-game"),this.open_running_game_tournament_button=e(".open-running-tournament-game"),this.close_open_game_tournament_button=e(".close-open-tournament-game"),this.open_open_game_tournament_button=e(".open-open-tournament-game"),this.close_completed_game_tournament_button=e(".close-completed-tournament-game"),this.open_completed_game_tournament_button=e(".open-completed-tournament-game")},updateMatchDetails:function(){this.update_match_form.submit(function(t){var s=e("#match-id").val();date=e("#match-date").val(),time=e("#match-time").val(),zone=e("#match-zone").val(),stream_url=e("#match-stream-url").val(),twitch_url=e("#match-twitch-channel").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-tournament.php",data:{form:"update-match-details",id:""+s,date:""+date,time:""+time,zone:""+zone,stream_url:""+stream_url,twitch_url:""+twitch_url}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},updateMatchInformation:function(){this.match_info_form.submit(function(t){var s=e("#match-id").val();ip=e("#match-server-ip").val(),password=e("#match-server-password").val(),moderator=e("#match-server-moderator").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-tournament.php",data:{form:"update-match-information",id:""+s,ip:""+ip,password:""+password,moderator:""+moderator}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},updateChatLog:function(){this.update_chat_form.submit(function(t){var s=e("#log-id").val();username=e("#log-username").val(),message=e("textarea#log-message").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-tournament.php",data:{form:"add-chat-message",id:""+s,username:""+username,message:""+message}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},reportMatch:function(){this.report_match_form.submit(function(t){var s=e("#match-id").val();home_score=e("#match-home-score").val(),home_id=e("#match-home-team").val(),home_c_id=e("#match-home-c-id").val(),away_score=e("#match-away-score").val(),away_id=e("#match-away-team").val(),away_c_id=e("#match-away-c-id").val(),reporter=e("#match-reporter").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-tournament.php",data:{form:"report-score",id:""+s,home_score:""+home_score,home_id:""+home_id,home_c_id:""+home_c_id,away_score:""+away_score,away_id:""+away_id,away_c_id:""+away_c_id,reporter:""+reporter}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},disputeMatch:function(){this.dispute_match_form.submit(function(t){var s=e("#dispute-match-id").val();reporter=e("#dispute-reporter").val(),reason=e("textarea#dispute-reason").val(),category=e("#dispute-category").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-tournament.php",data:{form:"dispute-match",id:""+s,reporter:""+reporter,dispute:""+reason,category:""+category}}).success(function(t){e(".dispute").css("display",""),e(".dispute").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},deleteScreenshot:function(t){e("#delete-screenshot-confirm").dialog({resizable:!1,height:175,modal:!0,buttons:{"Delete Screenshot":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-tournament.php",data:{form:"delete-screenshot",id:""+t}}).success(function(t){e(".screens").css("display",""),e(".screens").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},teamCheckIn:function(t,s,a){e.ajax({type:"POST",url:url_base+"lib/submit/submit-tournament.php",data:{form:"team-check-in",tournament_id:""+t,status:""+a,team_id:""+s}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})},bindEvents:function(){this.accept_details.on("click",e.proxy(function(t){t.preventDefault();var s=e("#match-side").val();match_id=e("#match-id").val(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-tournament.php",data:{form:"accept-match-details",id:""+match_id,side:""+s}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})},this)),this.reject_details.on("click",e.proxy(function(t){t.preventDefault();var s=e("#match-side").val();match_id=e("#match-id").val(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-tournament.php",data:{form:"reject-match-details",id:""+match_id,side:""+s}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})},this)),this.delete_screenshot.each(function(){e(this).on("click",function(){var s=e(this).data("screenshot-id");t.deleteScreenshot(s)})}),this.team_check_in_btn.each(function(){e(this).on("click",function(){var s=e(this).data("tournament-id");team_id=e(this).data("team-id"),status=e(this).data("tournament-check-in"),t.teamCheckIn(s,team_id,status)})}),this.open_running_game_tournament_button.each(function(){e(this).on("click",function(){var t=e(this).data("tournament-game");e("#game-running-tournaments-"+t).slideDown("slow"),e("#close-running-tournament-game-"+t).show(),e("#open-running-tournament-game-"+t).hide()})}),this.close_running_game_tournament_button.each(function(){e(this).on("click",function(){var t=e(this).data("tournament-game");e("#game-running-tournaments-"+t).slideUp("slow"),e("#open-running-tournament-game-"+t).show(),e("#close-running-tournament-game-"+t).hide()})}),this.open_open_game_tournament_button.each(function(){e(this).on("click",function(){var t=e(this).data("tournament-game");e("#game-open-tournaments-"+t).slideDown("slow"),e("#close-open-tournament-game-"+t).show(),e("#open-open-tournament-game-"+t).hide()})}),this.close_open_game_tournament_button.each(function(){e(this).on("click",function(){var t=e(this).data("tournament-game");e("#game-open-tournaments-"+t).slideUp("slow"),e("#open-open-tournament-game-"+t).show(),e("#close-open-tournament-game-"+t).hide()})}),this.open_completed_game_tournament_button.each(function(){e(this).on("click",function(){var t=e(this).data("tournament-game");e("#game-completed-tournaments-"+t).slideDown("slow"),e("#close-completed-tournament-game-"+t).show(),e("#open-completed-tournament-game-"+t).hide()})}),this.close_completed_game_tournament_button.each(function(){e(this).on("click",function(){var t=e(this).data("tournament-game");e("#game-completed-tournaments-"+t).slideUp("slow"),e("#open-completed-tournament-game-"+t).show(),e("#close-completed-tournament-game-"+t).hide()})})}};e(document).ready(function(){t.init()})}(jQuery),function(e){var t={init:function(){this.cacheElements(),this.updateProfile(),this.updateUserGameAccounts(),this.updateUserSocialAccounts(),this.updateUserGames(),this.updateUserAgreements(),this.addUserStream(),this.updatePassword(),this.forgotPassword(),this.addUserWallMessage(),this.condenseTagBoard(),this.createFreeAgent(),this.bindEvents()},cacheElements:function(){this.update_user_form=e("#userProfile"),this.update_user_games_form=e("#userGames"),this.update_game_accounts_form=e("#userGameAccounts"),this.update_social_accounts_form=e("#userSocialAccounts"),this.update_password_form=e("#userPassword"),this.forgot_password_form=e("#ezLeagueForgotPassword"),this.remove_avatar_button=e(".remove-avatar"),this.leave_team_button=e(".leave-team"),this.add_friend_button=e(".add-friend"),this.remove_friend_button=e(".remove-friend"),this.friend_request_action_button=e(".friend-request-action"),this.send_team_invite_button=e(".send-team-invite"),this.accept_team_invite_button=e(".accept-team-invite"),this.search_advanced_checkbox=e(".search-advanced"),this.advanced_search_fields=e(".advanced-search-fields"),this.user_switch_teams=e("#user-team-switch"),this.user_switch_teams_event=e("#user-team-switch-event"),this.user_switch_teams_sidebar=e(".user-team-switch-sidebar"),this.add_user_wall_form=e("#userWallMessage"),this.edit_wall_post_button=e(".edit-wall-post"),this.delete_wall_post_button=e(".delete-wall-post"),this.load_more_tags_button=e("#load-more-tags"),this.user_tag_board=e(".user-tag-board"),this.user_tag_entry=e(".user-tag-entry"),this.custom_field_save_form=e("#customFieldEdit"),this.custom_field_save_button=e(".custom-field-save"),this.user_teams_container=e(".user-teams-container"),this.user_teams_show=e(".user-teams-show"),this.user_teams_hide=e(".user-teams-hide"),this.user_organizations_container=e(".user-organizations-container"),this.user_organizations_show=e(".user-organizations-show"),this.user_organizations_hide=e(".user-organizations-hide"),this.user_add_streams_button=e("#add-user-stream"),this.user_add_stream_container=e(".add-user-stream-container"),this.user_add_stream_form=e("#addUserStream"),this.user_delete_stream_button=e(".delete-user-stream"),this.user_stream_iframe=e("#user-watch-stream"),this.user_watch_stream_button=e(".user-watch-stream"),this.user_close_stream_button=e("#close-user-stream"),this.user_agreements_form=e("#userAgreements"),this.free_agent_create=e("#freeAgentForm"),this.free_agent_msg=e(".fa-msg-user"),this.delete_free_agent=e(".delete-free-agent")},updateProfile:function(){this.update_user_form.submit(function(t){var s=e("#user-first-name").val();last=e("#user-last-name").val(),show_name=e("#user-show-name").is(":checked"),show_name?show_name=1:show_name=0,wall_status=e("#user-wall-status").is(":checked"),wall_status?wall_status=1:wall_status=0,handle=e("#user-handle").val(),email=e("#user-email").val(),website=e("#user-website").val(),bio=e("textarea#user-bio").val(),hobbies=e("#user-hobbies").val(),from=e("#user-from").val(),occupation=e("#user-occupation").val(),college=e("#user-college option:selected").val(),signature=e("textarea#user-signature").val(),language=e("#user-language").val(),country=e("#user-country option:selected").val(),province=e("#user-province option:selected").val(),highschool=e("#user-school option:selected").val(),phone=e("#user-phone").val(),id=e("#user-id").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"update-profile",id:""+id,first:""+s,last:""+last,show_name:""+show_name,wall_status:""+wall_status,handle:""+handle,email:""+email,bio:""+bio,hobbies:""+hobbies,from:""+from,occupation:""+occupation,college:""+college,website:""+website,signature:""+signature,language:""+language,country:""+country,province:""+province,highschool:""+highschool,phone:""+phone}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},updateUserGameAccounts:function(){this.update_game_accounts_form.submit(function(t){var s=e("#user-steamid").val();xbox=e("#user-xbox").val(),psn=e("#user-playstation").val(),lol=e("#user-lol").val(),wow=e("#user-wow").val(),pubg=e("#user-pubg").val(),epic=e("#user-epic").val(),uplay=e("#user-uplay").val(),origin=e("#user-origin").val(),id=e("#user-id").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"update-game-accounts",id:""+id,steamid:""+s,xbox:""+xbox,playstation:""+psn,lol:""+lol,wow:""+wow,pubg:""+pubg,epic:""+epic,uplay:""+uplay,origin:""+origin}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},updateUserSocialAccounts:function(){this.update_social_accounts_form.submit(function(t){var s=e("#user-facebook").val();twitter=e("#user-twitter").val(),twitch=e("#user-twitch").val(),youtube=e("#user-youtube").val(),steam=e("#user-steam").val(),instagram=e("#user-instagram").val(),discord=e("#user-discord").val(),eezer=e("#user-eezer").val(),id=e("#user-id").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"update-social-accounts",id:""+id,facebook:""+s,twitter:""+twitter,twitch:""+twitch,youtube:""+youtube,steam:""+steam,instagram:""+instagram,discord:""+discord,eezer:""+eezer}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},updateUserGames:function(){this.update_user_games_form.submit(function(t){var s=[];e('input[name="user-game"]:checked').each(function(t){s[t]=e(this).val()}),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"update-games",games:""+s}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},updateUserAgreements:function(){this.user_agreements_form.submit(function(t){var s=e("#user-agreements").val();t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"update-user-agreement",agree:""+s}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},updatePassword:function(){this.update_password_form.submit(function(t){var s=e("#user-current").val();password=e("#user-password").val(),confirm=e("#user-confirm").val(),id=e("#user-id").val(),errors=0,t.preventDefault(),password.length<6||confirm.length<6?(e(".succes").css("display",""),e(".succes").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html("<strong>Error</strong> must be at least 6 characters "),errors++):e(".success").css("display",""),password!=confirm?(e(".succes").css("display",""),e(".succes").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html("<strong>Error</strong> Passwords do not match "),errors++):e(".success").css("display",""),0==errors&&e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"update-password",id:""+id,password:""+password,current:""+s}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){window.location="home.php"},3e3)})})},forgotPassword:function(){this.forgot_password_form.submit(function(t){var s=e("#account-username").val();email=e("#account-email").val(),captcha=e("#account-captcha").val(),captcha_answer=e("#captcha-answer").val(),t.preventDefault(),captcha==captcha_answer?s.length>=1&&email.length>=1?(e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html("<strong>Error</strong> Only enter either the username or email")):s.length<1&&email.length<1?(e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html("<strong>Error</strong> Either the username or email must be entered")):e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"forgot-password",username:""+s,email:""+email}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}):(e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html("<strong>Error</strong> Incorrect CAPTCHA answer"))})},removeAvatar:function(t){e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"remove-avatar",id:""+t}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})},leaveTeam:function(t,s){e("#leave-team-confirm").dialog({resizable:!1,height:155,modal:!0,buttons:{"Leave Team":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"leave-team",uid:""+t,team_id:""+s}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},removeFriend:function(t,s){e("#remove-friend-confirm").dialog({resizable:!1,height:155,modal:!0,buttons:{"Remove Friend":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"remove-friend",id:""+s,friend_id:""+t}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},addFriend:function(t,s){e("#add-friend-confirm").dialog({resizable:!1,height:155,modal:!0,buttons:{"Send Friend Request":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"add-friend",id:""+s,friend_id:""+t}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},friendRequestAction:function(t,s){e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"friend-request-action",request_id:""+t,request_action:""+s}}).success(function(s){e(".success.request-"+t).css("display",""),e(".success.request-"+t).fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success.request-"+t).html(s)})},customFieldEdit:function(){},sendTeamInvite:function(t,s){e("#team-invite-confirm").dialog({resizable:!1,height:155,modal:!0,buttons:{"Invite Member":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"send-team-invite",tid:""+t,uid:""+s}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},acceptTeamInvite:function(t,s){e("#accept-invite-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Join Team":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"accept-team-invite",tid:""+t,uid:""+s}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},switchTeam:function(t){0==t?window.location="unset-team.php":e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"switch-team",team_id:""+t}}).success(function(t){e("#switch-team-success").css("display",""),e("#switch-team-success").fadeIn(1e3,"linear"),e(".switch-team-success").fadeIn("slow"),e("#switch-team-success").html(t),setTimeout(function(){location.reload()},1e3)})},addUserWallMessage:function(){this.add_user_wall_form.submit(function(t){e("#userWallMessage button").prop("disabled",!0);var s=e("#user-wall-id").val();poster_id=e("#user-wall-poster-id").val(),poster=e("#user-wall-poster").val(),avatar=e("#user-wall-poster-avatar").val(),message=e("textarea#user-wall-message").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"add-wall-message",poster_id:""+poster_id,user_id:""+s,poster:""+poster,avatar:""+avatar,message:""+message}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})})},deleteWallPost:function(t,s){e("#delete-wall-post-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Delete Wall Post":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"delete-wall-post",user_id:""+t,wall_id:""+s}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},1e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},condenseTagBoard:function(){if(this.user_tag_board.length>0){this.user_tag_board.height();var t=this.user_tag_entry.length;if(t>3){if(t%2==0);else;var s=e(".user-tag-entry:nth-of-type(4)").offset().top-e(".user-tag-entry:nth-of-type(4)").parent().offset().top-e(".user-tag-entry:nth-of-type(4)").parent().scrollTop();e(".user-tag-board").css("height",s+"px")}}},showMoreTags:function(t){var s=this.user_tag_entry.length,a=t+3;if(a<s){e("#load-more-tags").data("current-tag",a);n=e(".user-tag-entry:nth-of-type("+a+")").offset().top-e(".user-tag-entry:nth-of-type("+a+")").parent().offset().top-e(".user-tag-entry:nth-of-type("+a+")").parent().scrollTop();e(".user-tag-board").css("height",n+"px")}else{var n=e(".user-tag-entry:nth-of-type("+s+")").offset().top-e(".user-tag-entry:nth-of-type("+s+")").parent().offset().top-e(".user-tag-entry:nth-of-type("+s+")").parent().scrollTop();e(".user-tag-board").css("height",n+"px"),e("#load-more-tags").text("All Shown"),e("#load-more-tags").prop("disabled",!0)}},createFreeAgent:function(){this.free_agent_create.submit(function(t){var s=e("#free-agent-user-id").val();region=e("#free-agent-region").val(),position=e("#free-agent-position").val(),experience=e("textarea#free-agent-experience").val(),game=e("#free-agent-game option:selected").val(),captcha=e("#free-agent-captcha").val(),captcha_answer=e("#free-agent-captcha-answer").val(),errors=0,t.preventDefault(),e(".free-agent-btn").prop("disabled",!0),captcha==captcha_answer?(position.length>15||""==position?(e(".succes").css("display",""),e(".succes").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html("<strong>Error</strong> <em>Position</em> Must be filled and no longer than 15 characters "),errors++):e(".success").css("display",""),experience.length>60||""==experience?(e(".succes").css("display",""),e(".succes").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html("<strong>Error</strong> <em>Position</em> Must be filled and no longer than 60 characters "),errors++):e(".success").css("display",""),0==errors?e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"create-free-agent",user_id:""+s,region:""+region,position:""+position,experience:""+experience,game:""+game}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){window.location="free-agents.php"},3e3)}):e(".free-agent-btn").prop("disabled",!1)):(e(".free-agent-btn").prop("disabled",!1),e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html("<strong>Error</strong> Incorrect CAPTCHA answer"))})},deleteFreeAgent:function(t){e("#delete-free-agent-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Delete Listing":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"delete-free-agent",agent_id:""+t}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},1e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},addUserStream:function(){this.user_add_stream_form.submit(function(t){var s=e("#user-stream-name").val();url=e("#user-stream-url").val(),game=e("#user-stream-game option:selected").val(),managed=e("#user-stream-managed option:selected").val(),type=e("#user-stream-type option:selected").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"add-stream",name:""+s,url:""+url,game:""+game,managed:""+managed,type:""+type}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success_text").html(t),setTimeout(function(){location.reload()},3e3)})})},deleteStream:function(t){e("#delete-stream-confirm").dialog({resizable:!1,height:200,width:500,modal:!0,buttons:{"Delete Stream":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"delete-stream",stream_id:""+t}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},loadStream:function(e,t){jQuery("#view-user-stream-container iframe").remove(),jQuery("#view-user-stream-container").css("display","block"),"twitch"==t?(jQuery("<iframe>",{src:"http://player.twitch.tv/?channel="+e+"&autoplay=true&muted=true",id:"igl-stream",frameborder:0,scrolling:"no",allowfullscreen:"true",height:"378",width:"100%"}).appendTo("#view-user-stream-container"),jQuery("<iframe>",{src:"http://www.twitch.tv/"+e+"/chat",id:e,frameborder:0,scrolling:"no",allowfullscreen:"true",height:"378",width:"100%"}).appendTo("#view-user-stream-container")):"mixer"==t&&(jQuery("<iframe>",{src:"https://beam.pro/embed/player/"+e,id:"igl-stream",frameborder:0,scrolling:"no",allowfullscreen:"true",height:"378",width:"100%"}).appendTo("#view-user-stream-container"),jQuery("<iframe>",{src:"https://beam.pro/embed/chat/"+e,id:e,frameborder:0,scrolling:"no",allowfullscreen:"true",height:"378",width:"100%"}).appendTo("#view-user-stream-container"))},bindEvents:function(){this.remove_avatar_button.on("click",e.proxy(function(s){s.preventDefault();var a=e(this.remove_avatar_button).data("user-id");t.removeAvatar(a)},this)),this.leave_team_button.on("click",e.proxy(function(s){s.preventDefault();var a=e(this.leave_team_button).data("user-id");team_id=e(this.leave_team_button).data("team-id"),t.leaveTeam(a,team_id)},this)),this.remove_friend_button.on("click",e.proxy(function(s){s.preventDefault();var a=e(this.remove_friend_button).data("user-id");friend_id=e(this.remove_friend_button).data("friend-id"),t.removeFriend(friend_id,a)},this)),this.add_friend_button.on("click",e.proxy(function(s){s.preventDefault();var a=e(this.add_friend_button).data("user-id");friend_id=e(this.add_friend_button).data("friend-id"),t.addFriend(friend_id,a)},this)),this.friend_request_action_button.each(function(){e(this).on("click",function(){var s=e(this).data("request-id");option=e(this).data("request-option"),e(this).closest(".item").fadeOut(1e3),t.friendRequestAction(s,option)})}),this.send_team_invite_button.on("click",e.proxy(function(s){s.preventDefault();var a=e(this.send_team_invite_button).data("team-id");user_id=e(this.send_team_invite_button).data("user-id"),t.sendTeamInvite(a,user_id)},this)),this.accept_team_invite_button.each(function(){e(this).on("click",function(){var s=e(this).data("team-id");user_id=e(this).data("user-id"),t.acceptTeamInvite(s,user_id)})}),this.custom_field_save_button.on("click",e.proxy(function(t){t.preventDefault();var s=this.custom_field_save_form.serializeArray(),a=this.custom_field_save_form.children("#user-id");e.ajax({type:"POST",url:url_base+"lib/submit/submit-user.php",data:{form:"updateFieldEdit",editable_fields:s,user_id:a.val()}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)})},this)),this.search_advanced_checkbox.on("change",e.proxy(function(e){e.preventDefault(),this.advanced_search_fields.toggle()},this)),this.user_switch_teams.on("change",e.proxy(function(e){e.preventDefault();var s=this.user_switch_teams.val();t.switchTeam(s)},this)),this.user_switch_teams_event.on("change",e.proxy(function(e){e.preventDefault();var s=this.user_switch_teams_event.val();t.switchTeam(s)},this)),this.user_switch_teams_sidebar.each(function(){e(this).on("click",function(){var s=e(this).data("team-id");t.switchTeam(s)})}),this.edit_wall_post_button.each(function(){e(this).on("click",function(){var t=e(this).data("wall-post-id");user_id=e(this).data("wall-user-id"),e.ajax({type:"POST",async:!1,url:"get_wall_post.php",data:{wall_id:""+t,user_id:""+user_id}}).success(function(t){e("#editWallPostModal").html(t)})})}),this.delete_wall_post_button.each(function(){e(this).on("click",function(){var s=e(this).data("wall-post-id");user_id=e(this).data("wall-user-id"),t.deleteWallPost(user_id,s)})}),this.load_more_tags_button.on("click",e.proxy(function(s){s.preventDefault();var a=e(this.load_more_tags_button).data("current-tag");t.showMoreTags(a)},this)),this.user_teams_show.each(function(){e(this).on("click",function(){var t=e(this).data("user-id");e("#user-teams-container-"+t).toggle(),e("#user-teams-show-"+t).hide(),e("#user-teams-hide-"+t).show()})}),this.user_teams_hide.each(function(){e(this).on("click",function(){var t=e(this).data("user-id");e("#user-teams-container-"+t).toggle(),e("#user-teams-show-"+t).show(),e("#user-teams-hide-"+t).hide()})}),this.user_organizations_show.each(function(){e(this).on("click",function(){var t=e(this).data("user-id");e("#user-organizations-container-"+t).toggle(),e("#user-organizations-show-"+t).hide(),e("#user-organizations-hide-"+t).show()})}),this.user_organizations_hide.each(function(){e(this).on("click",function(){var t=e(this).data("user-id");e("#user-organizations-container-"+t).toggle(),e("#user-organizations-show-"+t).show(),e("#user-organizations-hide-"+t).hide()})}),this.free_agent_msg.each(function(){e(this).on("click",function(){var t=e(this).data("to-profile");to_id=e(this).data("to-id"),e("#sendMessage .fa-recipient-username").val(t),e("#sendMessage #to").val(t),e("#sendMessage #toText").val(t),console.log(t)})}),this.delete_free_agent.each(function(){e(this).on("click",function(){var s=e(this).data("free-agent-id");t.deleteFreeAgent(s)})}),this.user_add_streams_button.on("click",e.proxy(function(e){e.preventDefault(),this.user_add_stream_container.toggle(),this.user_add_stream_container.is(":visible")?(this.user_add_streams_button.text("Hide"),this.user_add_streams_button.removeClass("btn-info"),this.user_add_streams_button.addClass("btn-warning")):(this.user_add_streams_button.text("Add New Stream"),this.user_add_streams_button.removeClass("btn-warning"),this.user_add_streams_button.addClass("btn-info"))},this)),this.user_delete_stream_button.each(function(){e(this).on("click",function(){var s=e(this).data("stream-id");t.deleteStream(s)})}),this.user_watch_stream_button.each(function(){e(this).on("click",function(){var s=e(this).data("stream-url");stream_type=e(this).data("stream-type"),t.loadStream(s,stream_type)})}),this.user_close_stream_button.on("click",e.proxy(function(t){t.preventDefault(),e("#view-user-stream-container iframe").remove(),e("#view-user-stream-container").css("display","none")},this))}};e(document).ready(function(){t.init()})}(jQuery),function(e){var t={init:function(){this.cacheElements(),this.forumCreateTopic(),this.forumEditTopic(),this.forumReply(),this.forumEditReply(),this.bindEvents(),jQuery('[data-toggle="tooltip"]').tooltip()},cacheElements:function(){this.forum_create_topic=e("#forumCreateTopic"),this.forum_edit_topic=e("#forumEditTopic"),this.forum_edit_reply=e("#forumEditReply"),this.forum_response=e("#forumReply"),this.forum_delete_topic=e(".delete-forum-topic"),this.forum_delete_reply=e(".delete-forum-reply"),this.forum_admin_delete_topic=e(".admin-delete-forum-topic")},forumCreateTopic:function(){this.forum_create_topic.submit(function(s){var a=CKEDITOR.instances["topic-body"].getData();return title=e("#topic-title").val(),locked=0,sticky=0,e("#topic-locked:checkbox:checked").length>0&&(locked="1"),e("#topic-sticky:checkbox:checked").length>0&&(sticky="1"),section_id=e("#topic-section").val(),a=t.str_replace("&#39;","'",a),captcha=e("#captcha").val(),captcha_answer=e("#captcha-answer").val(),s.preventDefault(),captcha!=captcha_answer?(e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),void e(".success_text").html("<strong>Error</strong> Incorrect CAPTCHA answer given")):""==title||""==a?(e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),void e(".success_text").html("<strong>Error</strong> Title or Body cannot be blank")):(e("#forumCreateTopic button").prop("disabled",!0),void e.ajax({type:"POST",async:!1,url:"lib/submit/submit-forum.php",data:{form:"create-topic",section:""+section_id,title:""+title,body:""+a,sticky:""+sticky,locked:""+locked}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow");var s=t;isNaN(s)?e(".success_text").html("Failed to create topic, please try again"):(e(".success_text").html("Topic created successfully...redirecting..."),setTimeout(function(){window.location="forum.php?page=view_topic&id="+s},3e3))}))})},forumEditTopic:function(){this.forum_edit_topic.submit(function(s){var a=CKEDITOR.instances["edit-topic-body"].getData();return title=e("#edit-topic-title").val(),topic_id=e("#edit-topic-id").val(),locked=0,sticky=0,e("#edit-topic-locked:checkbox:checked").length>0&&(locked="1"),e("#edit-topic-sticky:checkbox:checked").length>0&&(sticky="1"),a=t.str_replace("&#39;","'",a),captcha=e("#edit-captcha").val(),captcha_answer=e("#edit-captcha-answer").val(),s.preventDefault(),captcha!=captcha_answer?(e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),void e(".success_text").html("<strong>Error</strong> Incorrect CAPTCHA answer given")):""==title||""==a?(e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),void e(".success_text").html("<strong>Error</strong> Title or Body cannot be blank")):(e("#forumEditTopic button").prop("disabled",!0),void e.ajax({type:"POST",async:!1,url:"lib/submit/submit-forum.php",data:{form:"edit-topic",topic_id:""+topic_id,title:""+title,body:""+a,sticky:""+sticky,locked:""+locked}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success_text").html(t),setTimeout(function(){window.location="forum.php?page=view_topic&id="+topic_id},3e3)}))})},forumDeleteTopic:function(t){e("#delete-topic-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Delete Topic":function(){e.ajax({type:"POST",url:"lib/submit/submit-forum.php",data:{form:"delete-topic",topic_id:""+t}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){window.location="forum.php"},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},forumReply:function(){this.forum_response.submit(function(s){var a=CKEDITOR.instances["topic-body"].getData();return topic_id=e("#topic-id").val(),section_id=e("#section-id").val(),a=t.str_replace("&#39;","'",a),captcha=e("#captcha").val(),captcha_answer=e("#captcha-answer").val(),s.preventDefault(),captcha!=captcha_answer?(e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),void e(".success_text").html("<strong>Error</strong> Incorrect CAPTCHA answer given")):""==a?(e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),void e(".success_text").html("<strong>Error</strong> Body cannot be blank")):(e("#forumReply button").prop("disabled",!0),void e.ajax({type:"POST",url:"lib/submit/submit-forum.php",data:{form:"forum-reply",section:""+section_id,topic:""+topic_id,body:""+a}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success_text").html(t),setTimeout(function(){location.reload()},3e3)}))})},forumEditReply:function(){this.forum_edit_reply.submit(function(s){var a=CKEDITOR.instances["edit-reply-body"].getData();return reply_id=e("#edit-reply-id").val(),topic_id=e("#edit-topic-id").val(),a=t.str_replace("&#39;","'",a),captcha=e("#edit-captcha").val(),captcha_answer=e("#edit-captcha-answer").val(),s.preventDefault(),captcha!=captcha_answer?(e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),void e(".success_text").html("<strong>Error</strong> Incorrect CAPTCHA answer given")):""==a?(e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),void e(".success_text").html("<strong>Error</strong> Body cannot be blank")):(e("#forumEditReply button").prop("disabled",!0),void e.ajax({type:"POST",async:!1,url:"lib/submit/submit-forum.php",data:{form:"edit-reply",reply_id:""+reply_id,body:""+a}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success_text").html(t),setTimeout(function(){window.location="forum.php?page=view_topic&id="+topic_id},3e3)}))})},forumDeleteReply:function(t,s){e("#delete-reply-confirm").dialog({resizable:!1,height:200,modal:!0,buttons:{"Delete Reply":function(){e.ajax({type:"POST",url:"lib/submit/submit-forum.php",data:{form:"delete-reply",reply_id:""+t}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){window.location="forum.php?page=view_topic&id="+s},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},bindEvents:function(){this.forum_delete_topic.on("click",e.proxy(function(s){s.preventDefault();var a=e(this.forum_delete_topic).data("topic-id");t.forumDeleteTopic(a)},this)),this.forum_delete_reply.each(function(){e(this).on("click",function(){var s=e(this).data("reply-id");topic_id=e(this).data("topic-id"),t.forumDeleteReply(s,topic_id)})}),this.forum_admin_delete_topic.each(function(){e(this).on("click",function(){var s=e(this).data("topic-id");t.forumDeleteTopic(s)})})},str_replace:function(e,t,s,a){var n=0,i=0,r="",o="",c=0,u=0,l=[].concat(e),d=[].concat(t),m=s,h="[object Array]"===Object.prototype.toString.call(d),f="[object Array]"===Object.prototype.toString.call(m);for(m=[].concat(m),a&&(this.window[a]=0),n=0,c=m.length;n<c;n++)if(""!==m[n])for(i=0,u=l.length;i<u;i++)r=m[n]+"",o=h?void 0!==d[i]?d[i]:"":d[0],m[n]=r.split(l[i]).join(o),a&&m[n]!==r&&(this.window[a]+=(r.length-m[n].length)/l[i].length);return f?m:m[0]}};e(document).ready(function(){t.init()})}(jQuery),function(e){var t={init:function(){this.cacheElements(),this.addUserTwitchClip(),this.bindEvents()},cacheElements:function(){this.user_add_twitch_clip_button=e("#add-user-twitch-clip"),this.user_add_twitch_clip_container=e(".add-user-twitch-clip-container"),this.user_add_twitch_clip_form=e("#addUserTwitchClip"),this.user_delete_twitch_clip_button=e(".delete-user-twitch-clip"),this.user_twitch_clip_iframe=e("#user-watch-twitch-clip"),this.user_watch_twitch_clip_button=e(".user-watch-twitch-clip"),this.user_close_twitch_clip_button=e("#close-user-twitch-clip")},addUserTwitchClip:function(){this.user_add_twitch_clip_form.submit(function(t){var s=e("#user-twitch-clip-title").val();clip=e("#user-twitch-clip-slug").val(),mature=e("input[name='user-twitch-clip-mature']:checked").val(),eetv=e("input[name='user-twitch-clip-public']:checked").val(),game=e("#user-twitch-clip-game option:selected").val(),t.preventDefault(),e.ajax({type:"POST",url:url_base+"lib/submit/submit-media.php",data:{form:"add-twitch-clip",title:""+s,clip:""+clip,game:""+game,mature:""+mature,eetv:""+eetv}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success_text").html(t),setTimeout(function(){location.reload()},3e3)})})},deleteMedia:function(t){e("#delete-media-confirm").dialog({resizable:!1,height:200,width:500,modal:!0,buttons:{"Delete Stream":function(){e.ajax({type:"POST",url:url_base+"lib/submit/submit-media.php",data:{form:"delete-media",media_id:""+t}}).success(function(t){e(".success").css("display",""),e(".success").fadeIn(1e3,"linear"),e(".success_text").fadeIn("slow"),e(".success").html(t),setTimeout(function(){location.reload()},3e3)}),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}})},loadMedia:function(e,t){jQuery("#view-user-"+t+"-container iframe").remove(),jQuery("#view-user-"+t+"-container").css("display","block"),"twitch"==t?(jQuery("<iframe>",{src:"http://player.twitch.tv/?channel="+e+"&autoplay=true&muted=true",id:"igl-stream",frameborder:0,scrolling:"no",allowfullscreen:"true",height:"378",width:"100%"}).appendTo("#view-user-"+t+"-container"),jQuery("<iframe>",{src:"http://www.twitch.tv/"+e+"/chat",id:e,frameborder:0,scrolling:"no",allowfullscreen:"true",height:"378",width:"100%"}).appendTo("#view-user-stream-container")):"mixer"==t&&(jQuery("<iframe>",{src:"https://beam.pro/embed/player/"+e,id:"igl-stream",frameborder:0,scrolling:"no",allowfullscreen:"true",height:"378",width:"100%"}).appendTo("#view-user-"+t+"-container"),jQuery("<iframe>",{src:"https://beam.pro/embed/chat/"+e,id:e,frameborder:0,scrolling:"no",allowfullscreen:"true",height:"378",width:"100%"}).appendTo("#view-user-"+t+"-container"))},bindEvents:function(){this.user_add_twitch_clip_button.on("click",e.proxy(function(e){e.preventDefault(),this.user_add_twitch_clip_container.toggle(),this.user_add_twitch_clip_container.is(":visible")?(this.user_add_twitch_clip_button.text("Hide"),this.user_add_twitch_clip_button.removeClass("btn-info"),this.user_add_twitch_clip_button.addClass("btn-warning")):(this.user_add_twitch_clip_button.text("Add New Twitch Clip"),this.user_add_twitch_clip_button.removeClass("btn-warning"),this.user_add_twitch_clip_button.addClass("btn-info"))},this)),this.user_delete_twitch_clip_button.each(function(){e(this).on("click",function(){e(this).data("media-id");t.deleteMedia(stream_id)})}),this.user_watch_twitch_clip_button.each(function(){e(this).on("click",function(){var t=e(this).data("media-url");stream_type=e(this).data("media-type"),EZL_Users.loadMedia(t,stream_type,"twitch")})}),this.user_close_twitch_clip_button.on("click",e.proxy(function(t){t.preventDefault(),e("#view-user-twitch-clip-container iframe").remove(),e("#view-user-twitch-clip-container").css("display","none")},this))}};e(document).ready(function(){t.init()})}(jQuery),function(e){var t=this||(0,eval)("this"),s=t.document,a=t.navigator,n=t.jQuery,i=t.JSON;!function(e){"function"==typeof define&&define.amd?define(["exports","require"],e):e("object"==typeof exports&&"object"==typeof module?module.exports||exports:t.ko={})}(function(r,o){function c(e,t){return(null===e||typeof e in g)&&e===t}function u(t,s){var a;return function(){a||(a=p.a.setTimeout(function(){a=e,t()},s))}}function l(e,t){var s;return function(){clearTimeout(s),s=p.a.setTimeout(e,t)}}function d(e,t){t&&t!==b?"beforeChange"===t?this.Kb(e):this.Ha(e,t):this.Lb(e)}function m(e,t){null!==t&&t.k&&t.k()}function h(e,t){var s=this.Hc,a=s[x];a.R||(this.lb&&this.Ma[t]?(s.Pb(t,e,this.Ma[t]),this.Ma[t]=null,--this.lb):a.r[t]||s.Pb(t,e,a.s?{ia:e}:s.uc(e)))}function f(e,t,s,a){p.d[e]={init:function(e,n,i,r,o){var c,u;return p.m(function(){var i=p.a.c(n()),r=!s!=!i,l=!u;(l||t||r!==c)&&(l&&p.va.Aa()&&(u=p.a.ua(p.f.childNodes(e),!0)),r?(l||p.f.da(e,p.a.ua(u)),p.eb(a?a(o,i):o,e)):p.f.xa(e),c=r)},null,{i:e}),{controlsDescendantBindings:!0}}},p.h.ta[e]=!1,p.f.Z[e]=!0}var p=void 0!==r?r:{};p.b=function(e,t){for(var s=e.split("."),a=p,n=0;n<s.length-1;n++)a=a[s[n]];a[s[s.length-1]]=t},p.G=function(e,t,s){e[t]=s},p.version="3.4.0",p.b("version",p.version),p.options={deferUpdates:!1,useOnlyNativeEvents:!1},p.a=function(){function r(e,t){for(var s in e)e.hasOwnProperty(s)&&t(s,e[s])}function o(e,t){if(t)for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);return e}function c(e,t){return e.__proto__=t,e}function u(e,t,s,a){var n=e[t].match(b)||[];p.a.q(s.match(b),function(e){p.a.pa(n,e,a)}),e[t]=n.join(" ")}var l={__proto__:[]}instanceof Array,d="function"==typeof Symbol,m={},h={};m[a&&/Firefox\/2/i.test(a.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],m.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),r(m,function(e,t){if(t.length)for(var s=0,a=t.length;s<a;s++)h[t[s]]=e});var f={propertychange:!0},g=s&&function(){for(var t=3,a=s.createElement("div"),n=a.getElementsByTagName("i");a.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",n[0];);return 4<t?t:e}(),b=/\S+/g;return{cc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],q:function(e,t){for(var s=0,a=e.length;s<a;s++)t(e[s],s)},o:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var s=0,a=e.length;s<a;s++)if(e[s]===t)return s;return-1},Sb:function(e,t,s){for(var a=0,n=e.length;a<n;a++)if(t.call(s,e[a],a))return e[a];return null},La:function(e,t){var s=p.a.o(e,t);0<s?e.splice(s,1):0===s&&e.shift()},Tb:function(e){for(var t=[],s=0,a=(e=e||[]).length;s<a;s++)0>p.a.o(t,e[s])&&t.push(e[s]);return t},fb:function(e,t){for(var s=[],a=0,n=(e=e||[]).length;a<n;a++)s.push(t(e[a],a));return s},Ka:function(e,t){for(var s=[],a=0,n=(e=e||[]).length;a<n;a++)t(e[a],a)&&s.push(e[a]);return s},ra:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var s=0,a=t.length;s<a;s++)e.push(t[s]);return e},pa:function(e,t,s){var a=p.a.o(p.a.zb(e),t);0>a?s&&e.push(t):s||e.splice(a,1)},ka:l,extend:o,Xa:c,Ya:l?c:o,D:r,Ca:function(e,t){if(!e)return e;var s,a={};for(s in e)e.hasOwnProperty(s)&&(a[s]=t(e[s],s,e));return a},ob:function(e){for(;e.firstChild;)p.removeNode(e.firstChild)},jc:function(e){for(var t=((e=p.a.V(e))[0]&&e[0].ownerDocument||s).createElement("div"),a=0,n=e.length;a<n;a++)t.appendChild(p.$(e[a]));return t},ua:function(e,t){for(var s=0,a=e.length,n=[];s<a;s++){var i=e[s].cloneNode(!0);n.push(t?p.$(i):i)}return n},da:function(e,t){if(p.a.ob(e),t)for(var s=0,a=t.length;s<a;s++)e.appendChild(t[s])},qc:function(e,t){var s=e.nodeType?[e]:e;if(0<s.length){for(var a=s[0],n=a.parentNode,i=0,r=t.length;i<r;i++)n.insertBefore(t[i],a);for(i=0,r=s.length;i<r;i++)p.removeNode(s[i])}},za:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==t;)e.length--;if(1<e.length){var s=e[0],a=e[e.length-1];for(e.length=0;s!==a;)e.push(s),s=s.nextSibling;e.push(a)}}return e},sc:function(e,t){7>g?e.setAttribute("selected",t):e.selected=t},$a:function(t){return null===t||t===e?"":t.trim?t.trim():t.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},nd:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},Mc:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(3===e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},nb:function(e){return p.a.Mc(e,e.ownerDocument.documentElement)},Qb:function(e){return!!p.a.Sb(e,p.a.nb)},A:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},Wb:function(e){return p.onError?function(){try{return e.apply(this,arguments)}catch(e){throw p.onError&&p.onError(e),e}}:e},setTimeout:function(e,t){return setTimeout(p.a.Wb(e),t)},$b:function(e){setTimeout(function(){throw p.onError&&p.onError(e),e},0)},p:function(e,t,s){var a=p.a.Wb(s);if(s=g&&f[t],p.options.useOnlyNativeEvents||s||!n)if(s||"function"!=typeof e.addEventListener){if(void 0===e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var i=function(t){a.call(e,t)},r="on"+t;e.attachEvent(r,i),p.a.F.oa(e,function(){e.detachEvent(r,i)})}else e.addEventListener(t,a,!1);else n(e).bind(t,a)},Da:function(e,a){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var i;if("input"===p.a.A(e)&&e.type&&"click"==a.toLowerCase()?(i=e.type,i="checkbox"==i||"radio"==i):i=!1,p.options.useOnlyNativeEvents||!n||i)if("function"==typeof s.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(i=s.createEvent(h[a]||"HTMLEvents")).initEvent(a,!0,!0,t,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(i)}else if(i&&e.click)e.click();else{if(void 0===e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+a)}else n(e).trigger(a)},c:function(e){return p.H(e)?e():e},zb:function(e){return p.H(e)?e.t():e},bb:function(e,t,s){var a;t&&("object"==typeof e.classList?(a=e.classList[s?"add":"remove"],p.a.q(t.match(b),function(t){a.call(e.classList,t)})):"string"==typeof e.className.baseVal?u(e.className,"baseVal",t,s):u(e,"className",t,s))},Za:function(t,s){var a=p.a.c(s);null!==a&&a!==e||(a="");var n=p.f.firstChild(t);!n||3!=n.nodeType||p.f.nextSibling(n)?p.f.da(t,[t.ownerDocument.createTextNode(a)]):n.data=a,p.a.Rc(t)},rc:function(e,t){if(e.name=t,7>=g)try{e.mergeAttributes(s.createElement("<input name='"+e.name+"'/>"),!1)}catch(e){}},Rc:function(e){9<=g&&(e=1==e.nodeType?e:e.parentNode).style&&(e.style.zoom=e.style.zoom)},Nc:function(e){if(g){var t=e.style.width;e.style.width=0,e.style.width=t}},hd:function(e,t){e=p.a.c(e),t=p.a.c(t);for(var s=[],a=e;a<=t;a++)s.push(a);return s},V:function(e){for(var t=[],s=0,a=e.length;s<a;s++)t.push(e[s]);return t},Yb:function(e){return d?Symbol(e):e},rd:6===g,sd:7===g,C:g,ec:function(e,t){for(var s=p.a.V(e.getElementsByTagName("input")).concat(p.a.V(e.getElementsByTagName("textarea"))),a="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},n=[],i=s.length-1;0<=i;i--)a(s[i])&&n.push(s[i]);return n},ed:function(e){return"string"==typeof e&&(e=p.a.$a(e))?i&&i.parse?i.parse(e):new Function("return "+e)():null},Eb:function(e,t,s){if(!i||!i.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return i.stringify(p.a.c(e),t,s)},fd:function(e,t,a){var n=(a=a||{}).params||{},i=a.includeFields||this.cc,o=e;if("object"==typeof e&&"form"===p.a.A(e))for(var o=e.action,c=i.length-1;0<=c;c--)for(var u=p.a.ec(e,i[c]),l=u.length-1;0<=l;l--)n[u[l].name]=u[l].value;t=p.a.c(t);var d=s.createElement("form");d.style.display="none",d.action=o,d.method="post";for(var m in t)e=s.createElement("input"),e.type="hidden",e.name=m,e.value=p.a.Eb(p.a.c(t[m])),d.appendChild(e);r(n,function(e,t){var a=s.createElement("input");a.type="hidden",a.name=e,a.value=t,d.appendChild(a)}),s.body.appendChild(d),a.submitter?a.submitter(d):d.submit(),setTimeout(function(){d.parentNode.removeChild(d)},0)}}}(),p.b("utils",p.a),p.b("utils.arrayForEach",p.a.q),p.b("utils.arrayFirst",p.a.Sb),p.b("utils.arrayFilter",p.a.Ka),p.b("utils.arrayGetDistinctValues",p.a.Tb),p.b("utils.arrayIndexOf",p.a.o),p.b("utils.arrayMap",p.a.fb),p.b("utils.arrayPushAll",p.a.ra),p.b("utils.arrayRemoveItem",p.a.La),p.b("utils.extend",p.a.extend),p.b("utils.fieldsIncludedWithJsonPost",p.a.cc),p.b("utils.getFormFields",p.a.ec),p.b("utils.peekObservable",p.a.zb),p.b("utils.postJson",p.a.fd),p.b("utils.parseJson",p.a.ed),p.b("utils.registerEventHandler",p.a.p),p.b("utils.stringifyJson",p.a.Eb),p.b("utils.range",p.a.hd),p.b("utils.toggleDomNodeCssClass",p.a.bb),p.b("utils.triggerEvent",p.a.Da),p.b("utils.unwrapObservable",p.a.c),p.b("utils.objectForEach",p.a.D),p.b("utils.addOrRemoveItem",p.a.pa),p.b("utils.setTextContent",p.a.Za),p.b("unwrap",p.a.c),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(1===arguments.length)return function(){return t.apply(e,arguments)};var s=Array.prototype.slice.call(arguments,1);return function(){var a=s.slice(0);return a.push.apply(a,arguments),t.apply(e,a)}}),p.a.e=new function(){function t(t,i){var r=t[a];if(!r||"null"===r||!n[r]){if(!i)return e;r=t[a]="ko"+s++,n[r]={}}return n[r]}var s=0,a="__ko__"+(new Date).getTime(),n={};return{get:function(s,a){var n=t(s,!1);return n===e?e:n[a]},set:function(s,a,n){n===e&&t(s,!1)===e||(t(s,!0)[a]=n)},clear:function(e){var t=e[a];return!!t&&(delete n[t],e[a]=null,!0)},I:function(){return s+++a}}},p.b("utils.domData",p.a.e),p.b("utils.domData.clear",p.a.e.clear),p.a.F=new function(){function t(t,s){var n=p.a.e.get(t,a);return n===e&&s&&(n=[],p.a.e.set(t,a,n)),n}function s(e){if(a=t(e,!1))for(var a=a.slice(0),n=0;n<a.length;n++)a[n](e);if(p.a.e.clear(e),p.a.F.cleanExternalData(e),r[e.nodeType])for(a=e.firstChild;e=a;)a=e.nextSibling,8===e.nodeType&&s(e)}var a=p.a.e.I(),i={1:!0,8:!0,9:!0},r={1:!0,9:!0};return{oa:function(e,s){if("function"!=typeof s)throw Error("Callback must be a function");t(e,!0).push(s)},pc:function(s,n){var i=t(s,!1);i&&(p.a.La(i,n),0==i.length&&p.a.e.set(s,a,e))},$:function(e){if(i[e.nodeType]&&(s(e),r[e.nodeType])){var t=[];p.a.ra(t,e.getElementsByTagName("*"));for(var a=0,n=t.length;a<n;a++)s(t[a])}return e},removeNode:function(e){p.$(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){n&&"function"==typeof n.cleanData&&n.cleanData([e])}}},p.$=p.a.F.$,p.removeNode=p.a.F.removeNode,p.b("cleanNode",p.$),p.b("removeNode",p.removeNode),p.b("utils.domNodeDisposal",p.a.F),p.b("utils.domNodeDisposal.addDisposeCallback",p.a.F.oa),p.b("utils.domNodeDisposal.removeDisposeCallback",p.a.F.pc),function(){var a=[0,"",""],i=[1,"<table>","</table>"],r=[3,"<table><tbody><tr>","</tr></tbody></table>"],o=[1,"<select multiple='multiple'>","</select>"],c={thead:i,tbody:i,tfoot:i,tr:[2,"<table><tbody>","</tbody></table>"],td:r,th:r,option:o,optgroup:o},u=8>=p.a.C;p.a.ma=function(e,i){var r;if(n){if(n.parseHTML)r=n.parseHTML(e,i)||[];else if((r=n.clean([e],i))&&r[0]){for(l=r[0];l.parentNode&&11!==l.parentNode.nodeType;)l=l.parentNode;l.parentNode&&l.parentNode.removeChild(l)}}else{(r=i)||(r=s);var o,l=r.parentWindow||r.defaultView||t,d=p.a.$a(e).toLowerCase(),m=r.createElement("div");for(o=(d=d.match(/^<([a-z]+)[ >]/))&&c[d[1]]||a,d=o[0],o="ignored<div>"+o[1]+e+o[2]+"</div>","function"==typeof l.innerShiv?m.appendChild(l.innerShiv(o)):(u&&r.appendChild(m),m.innerHTML=o,u&&m.parentNode.removeChild(m));d--;)m=m.lastChild;r=p.a.V(m.lastChild.childNodes)}return r},p.a.Cb=function(t,s){if(p.a.ob(t),null!==(s=p.a.c(s))&&s!==e)if("string"!=typeof s&&(s=s.toString()),n)n(t).html(s);else for(var a=p.a.ma(s,t.ownerDocument),i=0;i<a.length;i++)t.appendChild(a[i])}}(),p.b("utils.parseHtmlFragment",p.a.ma),p.b("utils.setHtml",p.a.Cb),p.M=function(){function t(e,s){if(e)if(8==e.nodeType)null!=(a=p.M.lc(e.nodeValue))&&s.push({Lc:e,cd:a});else if(1==e.nodeType)for(var a=0,n=e.childNodes,i=n.length;a<i;a++)t(n[a],s)}var s={};return{wb:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var t=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return s[t]=e,"\x3c!--[ko_memo:"+t+"]--\x3e"},xc:function(t,a){var n=s[t];if(n===e)throw Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return n.apply(null,a||[]),!0}finally{delete s[t]}},yc:function(e,s){var a=[];t(e,a);for(var n=0,i=a.length;n<i;n++){var r=a[n].Lc,o=[r];s&&p.a.ra(o,s),p.M.xc(a[n].cd,o),r.nodeValue="",r.parentNode&&r.parentNode.removeChild(r)}},lc:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}(),p.b("memoization",p.M),p.b("memoization.memoize",p.M.wb),p.b("memoization.unmemoize",p.M.xc),p.b("memoization.parseMemoText",p.M.lc),p.b("memoization.unmemoizeDomNodeAndDescendants",p.M.yc),p.Y=function(){function e(){if(i)for(var e,t=i,s=0;o<i;)if(e=n[o++]){if(o>t){if(5e3<=++s){o=i,p.a.$b(Error("'Too much recursion' after processing "+s+" task groups."));break}t=i}try{e()}catch(e){p.a.$b(e)}}}function a(){e(),o=i=n.length=0}var n=[],i=0,r=1,o=0;return{scheduler:t.MutationObserver?function(e){var t=s.createElement("div");return new MutationObserver(e).observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}}(a):s&&"onreadystatechange"in s.createElement("script")?function(e){var t=s.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,s.documentElement.removeChild(t),t=null,e()},s.documentElement.appendChild(t)}:function(e){setTimeout(e,0)},Wa:function(e){return i||p.Y.scheduler(a),n[i++]=e,r++},cancel:function(e){(e-=r-i)>=o&&e<i&&(n[e]=null)},resetForTesting:function(){var e=i-o;return o=i=n.length=0,e},md:e}}(),p.b("tasks",p.Y),p.b("tasks.schedule",p.Y.Wa),p.b("tasks.runEarly",p.Y.md),p.ya={throttle:function(e,t){e.throttleEvaluation=t;var s=null;return p.B({read:e,write:function(a){clearTimeout(s),s=p.a.setTimeout(function(){e(a)},t)}})},rateLimit:function(e,t){var s,a,n;"number"==typeof t?s=t:(s=t.timeout,a=t.method),e.cb=!1,n="notifyWhenChangesStop"==a?l:u,e.Ta(function(e){return n(e,s)})},deferred:function(t,s){if(!0!==s)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");t.cb||(t.cb=!0,t.Ta(function(s){var a;return function(){p.Y.cancel(a),a=p.Y.Wa(s),t.notifySubscribers(e,"dirty")}}))},notify:function(e,t){e.equalityComparer="always"==t?null:c}};var g={undefined:1,boolean:1,number:1,string:1};p.b("extenders",p.ya),p.vc=function(e,t,s){this.ia=e,this.gb=t,this.Kc=s,this.R=!1,p.G(this,"dispose",this.k)},p.vc.prototype.k=function(){this.R=!0,this.Kc()},p.J=function(){p.a.Ya(this,_),_.rb(this)};var b="change",_={rb:function(e){e.K={},e.Nb=1},X:function(e,t,s){var a=this;s=s||b;var n=new p.vc(a,t?e.bind(t):e,function(){p.a.La(a.K[s],n),a.Ia&&a.Ia(s)});return a.sa&&a.sa(s),a.K[s]||(a.K[s]=[]),a.K[s].push(n),n},notifySubscribers:function(e,t){if((t=t||b)===b&&this.zc(),this.Pa(t))try{p.l.Ub();for(var s,a=this.K[t].slice(0),n=0;s=a[n];++n)s.R||s.gb(e)}finally{p.l.end()}},Na:function(){return this.Nb},Uc:function(e){return this.Na()!==e},zc:function(){++this.Nb},Ta:function(e){var t,s,a,n=this,i=p.H(n);n.Ha||(n.Ha=n.notifySubscribers,n.notifySubscribers=d);var r=e(function(){n.Mb=!1,i&&a===n&&(a=n()),t=!1,n.tb(s,a)&&n.Ha(s=a)});n.Lb=function(e){n.Mb=t=!0,a=e,r()},n.Kb=function(e){t||(s=e,n.Ha(e,"beforeChange"))}},Pa:function(e){return this.K[e]&&this.K[e].length},Sc:function(e){if(e)return this.K[e]&&this.K[e].length||0;var t=0;return p.a.D(this.K,function(e,s){"dirty"!==e&&(t+=s.length)}),t},tb:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},extend:function(e){var t=this;return e&&p.a.D(e,function(e,s){var a=p.ya[e];"function"==typeof a&&(t=a(t,s)||t)}),t}};p.G(_,"subscribe",_.X),p.G(_,"extend",_.extend),p.G(_,"getSubscriptionsCount",_.Sc),p.a.ka&&p.a.Xa(_,Function.prototype),p.J.fn=_,p.hc=function(e){return null!=e&&"function"==typeof e.X&&"function"==typeof e.notifySubscribers},p.b("subscribable",p.J),p.b("isSubscribable",p.hc),p.va=p.l=function(){function e(e){a.push(s),s=e}function t(){s=a.pop()}var s,a=[],n=0;return{Ub:e,end:t,oc:function(e){if(s){if(!p.hc(e))throw Error("Only subscribable things can act as dependencies");s.gb.call(s.Gc,e,e.Cc||(e.Cc=++n))}},w:function(s,a,n){try{return e(),s.apply(a,n||[])}finally{t()}},Aa:function(){if(s)return s.m.Aa()},Sa:function(){if(s)return s.Sa}}}(),p.b("computedContext",p.va),p.b("computedContext.getDependenciesCount",p.va.Aa),p.b("computedContext.isInitial",p.va.Sa),p.b("ignoreDependencies",p.qd=p.l.w);var v=p.a.Yb("_latestValue");p.N=function(e){function t(){return 0<arguments.length?(t.tb(t[v],arguments[0])&&(t.ga(),t[v]=arguments[0],t.fa()),this):(p.l.oc(t),t[v])}return t[v]=e,p.a.ka||p.a.extend(t,p.J.fn),p.J.fn.rb(t),p.a.Ya(t,y),p.options.deferUpdates&&p.ya.deferred(t,!0),t};var y={equalityComparer:c,t:function(){return this[v]},fa:function(){this.notifySubscribers(this[v])},ga:function(){this.notifySubscribers(this[v],"beforeChange")}};p.a.ka&&p.a.Xa(y,p.J.fn);var w=p.N.gd="__ko_proto__";y[w]=p.N,p.Oa=function(t,s){return null!==t&&t!==e&&t[w]!==e&&(t[w]===s||p.Oa(t[w],s))},p.H=function(e){return p.Oa(e,p.N)},p.Ba=function(e){return!!("function"==typeof e&&e[w]===p.N||"function"==typeof e&&e[w]===p.B&&e.Vc)},p.b("observable",p.N),p.b("isObservable",p.H),p.b("isWriteableObservable",p.Ba),p.b("isWritableObservable",p.Ba),p.b("observable.fn",y),p.G(y,"peek",y.t),p.G(y,"valueHasMutated",y.fa),p.G(y,"valueWillMutate",y.ga),p.la=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=p.N(e),p.a.Ya(e,p.la.fn),e.extend({trackArrayChanges:!0})},p.la.fn={remove:function(e){for(var t=this.t(),s=[],a="function"!=typeof e||p.H(e)?function(t){return t===e}:e,n=0;n<t.length;n++){var i=t[n];a(i)&&(0===s.length&&this.ga(),s.push(i),t.splice(n,1),n--)}return s.length&&this.fa(),s},removeAll:function(t){if(t===e){var s=this.t(),a=s.slice(0);return this.ga(),s.splice(0,s.length),this.fa(),a}return t?this.remove(function(e){return 0<=p.a.o(t,e)}):[]},destroy:function(e){var t=this.t(),s="function"!=typeof e||p.H(e)?function(t){return t===e}:e;this.ga();for(var a=t.length-1;0<=a;a--)s(t[a])&&(t[a]._destroy=!0);this.fa()},destroyAll:function(t){return t===e?this.destroy(function(){return!0}):t?this.destroy(function(e){return 0<=p.a.o(t,e)}):[]},indexOf:function(e){var t=this();return p.a.o(t,e)},replace:function(e,t){var s=this.indexOf(e);0<=s&&(this.ga(),this.t()[s]=t,this.fa())}},p.a.ka&&p.a.Xa(p.la.fn,p.N.fn),p.a.q("pop push reverse shift sort splice unshift".split(" "),function(e){p.la.fn[e]=function(){var t=this.t();this.ga(),this.Vb(t,e,arguments);var s=t[e].apply(t,arguments);return this.fa(),s===t?this:s}}),p.a.q(["slice"],function(e){p.la.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),p.b("observableArray",p.la),p.ya.trackArrayChanges=function(e,t){function s(){if(!n){n=!0;var t=e.notifySubscribers;e.notifySubscribers=function(e,s){return s&&s!==b||++r,t.apply(this,arguments)};var s=[].concat(e.t()||[]);i=null,a=e.X(function(t){if(t=[].concat(t||[]),e.Pa("arrayChange")){var a;(!i||1<r)&&(i=p.a.ib(s,t,e.hb)),a=i}s=t,i=null,r=0,a&&a.length&&e.notifySubscribers(a,"arrayChange")})}}if(e.hb={},t&&"object"==typeof t&&p.a.extend(e.hb,t),e.hb.sparse=!0,!e.Vb){var a,n=!1,i=null,r=0,o=e.sa,c=e.Ia;e.sa=function(t){o&&o.call(e,t),"arrayChange"===t&&s()},e.Ia=function(t){c&&c.call(e,t),"arrayChange"!==t||e.Pa("arrayChange")||(a.k(),n=!1)},e.Vb=function(e,t,s){function a(e,t,s){return o[o.length]={status:e,value:t,index:s}}if(n&&!r){var o=[],c=e.length,u=s.length,l=0;switch(t){case"push":l=c;case"unshift":for(t=0;t<u;t++)a("added",s[t],l+t);break;case"pop":l=c-1;case"shift":c&&a("deleted",e[l],l);break;case"splice":t=Math.min(Math.max(0,0>s[0]?c+s[0]:s[0]),c);for(var c=1===u?c:Math.min(t+(s[1]||0),c),u=t+u-2,l=Math.max(c,u),d=[],m=[],h=2;t<l;++t,++h)t<c&&m.push(a("deleted",e[t],t)),t<u&&d.push(a("added",s[h],t));p.a.dc(m,d);break;default:return}i=o}}}};var x=p.a.Yb("_state");p.m=p.B=function(t,s,a){function n(){if(0<arguments.length){if("function"!=typeof i)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return i.apply(r.pb,arguments),this}return p.l.oc(n),(r.S||r.s&&n.Qa())&&n.aa(),r.T}if("object"==typeof t?a=t:(a=a||{},t&&(a.read=t)),"function"!=typeof a.read)throw Error("Pass a function that returns the value of the ko.computed");var i=a.write,r={T:e,S:!0,Ra:!1,Fb:!1,R:!1,Va:!1,s:!1,jd:a.read,pb:s||a.owner,i:a.disposeWhenNodeIsRemoved||a.i||null,wa:a.disposeWhen||a.wa,mb:null,r:{},L:0,bc:null};return n[x]=r,n.Vc="function"==typeof i,p.a.ka||p.a.extend(n,p.J.fn),p.J.fn.rb(n),p.a.Ya(n,T),a.pure?(r.Va=!0,r.s=!0,p.a.extend(n,k)):a.deferEvaluation&&p.a.extend(n,I),p.options.deferUpdates&&p.ya.deferred(n,!0),r.i&&(r.Fb=!0,r.i.nodeType||(r.i=null)),r.s||a.deferEvaluation||n.aa(),r.i&&n.ba()&&p.a.F.oa(r.i,r.mb=function(){n.k()}),n};var T={equalityComparer:c,Aa:function(){return this[x].L},Pb:function(e,t,s){if(this[x].Va&&t===this)throw Error("A 'pure' computed must not be called recursively");this[x].r[e]=s,s.Ga=this[x].L++,s.na=t.Na()},Qa:function(){var e,t,s=this[x].r;for(e in s)if(s.hasOwnProperty(e)&&(t=s[e]).ia.Uc(t.na))return!0},bd:function(){this.Fa&&!this[x].Ra&&this.Fa()},ba:function(){return this[x].S||0<this[x].L},ld:function(){this.Mb||this.ac()},uc:function(e){if(e.cb&&!this[x].i){var t=e.X(this.bd,this,"dirty"),s=e.X(this.ld,this);return{ia:e,k:function(){t.k(),s.k()}}}return e.X(this.ac,this)},ac:function(){var e=this,t=e.throttleEvaluation;t&&0<=t?(clearTimeout(this[x].bc),this[x].bc=p.a.setTimeout(function(){e.aa(!0)},t)):e.Fa?e.Fa():e.aa(!0)},aa:function(e){var t=this[x],s=t.wa;if(!t.Ra&&!t.R){if(t.i&&!p.a.nb(t.i)||s&&s()){if(!t.Fb)return void this.k()}else t.Fb=!1;t.Ra=!0;try{this.Qc(e)}finally{t.Ra=!1}t.L||this.k()}},Qc:function(t){var s=this[x],a=s.Va?e:!s.L,n={Hc:this,Ma:s.r,lb:s.L};p.l.Ub({Gc:n,gb:h,m:this,Sa:a}),s.r={},s.L=0,n=this.Pc(s,n),this.tb(s.T,n)&&(s.s||this.notifySubscribers(s.T,"beforeChange"),s.T=n,s.s?this.zc():t&&this.notifySubscribers(s.T)),a&&this.notifySubscribers(s.T,"awake")},Pc:function(e,t){try{var s=e.jd;return e.pb?s.call(e.pb):s()}finally{p.l.end(),t.lb&&!e.s&&p.a.D(t.Ma,m),e.S=!1}},t:function(){var e=this[x];return(e.S&&!e.L||e.s&&this.Qa())&&this.aa(),e.T},Ta:function(e){p.J.fn.Ta.call(this,e),this.Fa=function(){this.Kb(this[x].T),this[x].S=!0,this.Lb(this)}},k:function(){var e=this[x];!e.s&&e.r&&p.a.D(e.r,function(e,t){t.k&&t.k()}),e.i&&e.mb&&p.a.F.pc(e.i,e.mb),e.r=null,e.L=0,e.R=!0,e.S=!1,e.s=!1,e.i=null}},k={sa:function(e){var t=this,s=t[x];if(!s.R&&s.s&&"change"==e){if(s.s=!1,s.S||t.Qa())s.r=null,s.L=0,s.S=!0,t.aa();else{var a=[];p.a.D(s.r,function(e,t){a[t.Ga]=e}),p.a.q(a,function(e,a){var n=s.r[e],i=t.uc(n.ia);i.Ga=a,i.na=n.na,s.r[e]=i})}s.R||t.notifySubscribers(s.T,"awake")}},Ia:function(t){var s=this[x];s.R||"change"!=t||this.Pa("change")||(p.a.D(s.r,function(e,t){t.k&&(s.r[e]={ia:t.ia,Ga:t.Ga,na:t.na},t.k())}),s.s=!0,this.notifySubscribers(e,"asleep"))},Na:function(){var e=this[x];return e.s&&(e.S||this.Qa())&&this.aa(),p.J.fn.Na.call(this)}},I={sa:function(e){"change"!=e&&"beforeChange"!=e||this.t()}};p.a.ka&&p.a.Xa(T,p.J.fn);var C=p.N.gd;p.m[C]=p.N,T[C]=p.m,p.Xc=function(e){return p.Oa(e,p.m)},p.Yc=function(e){return p.Oa(e,p.m)&&e[x]&&e[x].Va},p.b("computed",p.m),p.b("dependentObservable",p.m),p.b("isComputed",p.Xc),p.b("isPureComputed",p.Yc),p.b("computed.fn",T),p.G(T,"peek",T.t),p.G(T,"dispose",T.k),p.G(T,"isActive",T.ba),p.G(T,"getDependenciesCount",T.Aa),p.nc=function(e,t){return"function"==typeof e?p.m(e,t,{pure:!0}):(e=p.a.extend({},e),e.pure=!0,p.m(e,t))},p.b("pureComputed",p.nc),function(){function t(n,i,r){if(r=r||new a,"object"!=typeof(n=i(n))||null===n||n===e||n instanceof RegExp||n instanceof Date||n instanceof String||n instanceof Number||n instanceof Boolean)return n;var o=n instanceof Array?[]:{};return r.save(n,o),s(n,function(s){var a=i(n[s]);switch(typeof a){case"boolean":case"number":case"string":case"function":o[s]=a;break;case"object":case"undefined":var c=r.get(a);o[s]=c!==e?c:t(a,i,r)}}),o}function s(e,t){if(e instanceof Array){for(var s=0;s<e.length;s++)t(s);"function"==typeof e.toJSON&&t("toJSON")}else for(s in e)t(s)}function a(){this.keys=[],this.Ib=[]}p.wc=function(e){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return t(e,function(e){for(var t=0;p.H(e)&&10>t;t++)e=e();return e})},p.toJSON=function(e,t,s){return e=p.wc(e),p.a.Eb(e,t,s)},a.prototype={save:function(e,t){var s=p.a.o(this.keys,e);0<=s?this.Ib[s]=t:(this.keys.push(e),this.Ib.push(t))},get:function(t){return 0<=(t=p.a.o(this.keys,t))?this.Ib[t]:e}}}(),p.b("toJS",p.wc),p.b("toJSON",p.toJSON),p.j={u:function(t){switch(p.a.A(t)){case"option":return!0===t.__ko__hasDomDataOptionValue__?p.a.e.get(t,p.d.options.xb):7>=p.a.C?t.getAttributeNode("value")&&t.getAttributeNode("value").specified?t.value:t.text:t.value;case"select":return 0<=t.selectedIndex?p.j.u(t.options[t.selectedIndex]):e;default:return t.value}},ha:function(t,s,a){switch(p.a.A(t)){case"option":switch(typeof s){case"string":p.a.e.set(t,p.d.options.xb,e),"__ko__hasDomDataOptionValue__"in t&&delete t.__ko__hasDomDataOptionValue__,t.value=s;break;default:p.a.e.set(t,p.d.options.xb,s),t.__ko__hasDomDataOptionValue__=!0,t.value="number"==typeof s?s:""}break;case"select":""!==s&&null!==s||(s=e);for(var n,i=-1,r=0,o=t.options.length;r<o;++r)if((n=p.j.u(t.options[r]))==s||""==n&&s===e){i=r;break}(a||0<=i||s===e&&1<t.size)&&(t.selectedIndex=i);break;default:null!==s&&s!==e||(s=""),t.value=s}}},p.b("selectExtensions",p.j),p.b("selectExtensions.readValue",p.j.u),p.b("selectExtensions.writeValue",p.j.ha),p.h=function(){function e(e){123===(e=p.a.$a(e)).charCodeAt(0)&&(e=e.slice(1,-1));var t,s=[],r=e.match(a),o=[],c=0;if(r){r.push(",");for(var u,l=0;u=r[l];++l){var d=u.charCodeAt(0);if(44===d){if(0>=c){s.push(t&&o.length?{key:t,value:o.join("")}:{unknown:t||o.join("")}),t=c=0,o=[];continue}}else if(58===d){if(!c&&!t&&1===o.length){t=o.pop();continue}}else 47===d&&l&&1<u.length?(d=r[l-1].match(n))&&!i[d[0]]&&(e=e.substr(e.indexOf(u)+1),(r=e.match(a)).push(","),l=-1,u="/"):40===d||123===d||91===d?++c:41===d||125===d||93===d?--c:t||o.length||34!==d&&39!==d||(u=u.slice(1,-1));o.push(u)}}return s}var t=["true","false","null","undefined"],s=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,a=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),n=/[\])"'A-Za-z0-9_$]+$/,i={in:1,return:1,typeof:1},r={};return{ta:[],ea:r,yb:e,Ua:function(a,n){function i(e,a){var n;if(!l){var d=p.getBindingHandler(e);if(d&&d.preprocess&&!(a=d.preprocess(a,e,i)))return;(d=r[e])&&(n=a,0<=p.a.o(t,n)?n=!1:(d=n.match(s),n=null!==d&&(d[1]?"Object("+d[1]+")"+d[2]:n)),d=n),d&&c.push("'"+e+"':function(_z){"+n+"=_z}")}u&&(a="function(){return "+a+" }"),o.push("'"+e+"':"+a)}var o=[],c=[],u=(n=n||{}).valueAccessors,l=n.bindingParams,d="string"==typeof a?e(a):a;return p.a.q(d,function(e){i(e.key||e.unknown,e.value)}),c.length&&i("_ko_property_writers","{"+c.join(",")+" }"),o.join(",")},ad:function(e,t){for(var s=0;s<e.length;s++)if(e[s].key==t)return!0;return!1},Ea:function(e,t,s,a,n){e&&p.H(e)?!p.Ba(e)||n&&e.t()===a||e(a):(e=t.get("_ko_property_writers"))&&e[s]&&e[s](a)}}}(),p.b("expressionRewriting",p.h),p.b("expressionRewriting.bindingRewriteValidators",p.h.ta),p.b("expressionRewriting.parseObjectLiteral",p.h.yb),p.b("expressionRewriting.preProcessBindings",p.h.Ua),p.b("expressionRewriting._twoWayBindings",p.h.ea),p.b("jsonExpressionRewriting",p.h),p.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",p.h.Ua),function(){function e(e){return 8==e.nodeType&&r.test(i?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&o.test(i?e.text:e.nodeValue)}function a(s,a){for(var n=s,i=1,r=[];n=n.nextSibling;){if(t(n)&&0==--i)return r;r.push(n),e(n)&&i++}if(!a)throw Error("Cannot find closing comment tag to match: "+s.nodeValue);return null}function n(e,t){var s=a(e,t);return s?0<s.length?s[s.length-1].nextSibling:e.nextSibling:null}var i=s&&"\x3c!--test--\x3e"===s.createComment("test").text,r=i?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,o=i?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,c={ul:!0,ol:!0};p.f={Z:{},childNodes:function(t){return e(t)?a(t):t.childNodes},xa:function(t){if(e(t))for(var s=0,a=(t=p.f.childNodes(t)).length;s<a;s++)p.removeNode(t[s]);else p.a.ob(t)},da:function(t,s){if(e(t)){p.f.xa(t);for(var a=t.nextSibling,n=0,i=s.length;n<i;n++)a.parentNode.insertBefore(s[n],a)}else p.a.da(t,s)},mc:function(t,s){e(t)?t.parentNode.insertBefore(s,t.nextSibling):t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s)},gc:function(t,s,a){a?e(t)?t.parentNode.insertBefore(s,a.nextSibling):a.nextSibling?t.insertBefore(s,a.nextSibling):t.appendChild(s):p.f.mc(t,s)},firstChild:function(s){return e(s)?!s.nextSibling||t(s.nextSibling)?null:s.nextSibling:s.firstChild},nextSibling:function(s){return e(s)&&(s=n(s)),s.nextSibling&&t(s.nextSibling)?null:s.nextSibling},Tc:e,pd:function(e){return(e=(i?e.text:e.nodeValue).match(r))?e[1]:null},kc:function(s){if(c[p.a.A(s)]){var a=s.firstChild;if(a)do{if(1===a.nodeType){var i,r=null;if(i=a.firstChild)do{if(r)r.push(i);else if(e(i)){var o=n(i,!0);o?i=o:r=[i]}else t(i)&&(r=[i])}while(i=i.nextSibling);if(i=r)for(r=a.nextSibling,o=0;o<i.length;o++)r?s.insertBefore(i[o],r):s.appendChild(i[o])}}while(a=a.nextSibling)}}}}(),p.b("virtualElements",p.f),p.b("virtualElements.allowedBindings",p.f.Z),p.b("virtualElements.emptyNode",p.f.xa),p.b("virtualElements.insertAfter",p.f.gc),p.b("virtualElements.prepend",p.f.mc),p.b("virtualElements.setDomNodeChildren",p.f.da),p.Q=function(){this.Fc={}},p.a.extend(p.Q.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||p.g.getComponentNameForNode(e);case 8:return p.f.Tc(e);default:return!1}},getBindings:function(e,t){var s=(s=this.getBindingsString(e,t))?this.parseBindingsString(s,t,e):null;return p.g.Ob(s,e,t,!1)},getBindingAccessors:function(e,t){var s=(s=this.getBindingsString(e,t))?this.parseBindingsString(s,t,e,{valueAccessors:!0}):null;return p.g.Ob(s,e,t,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return p.f.pd(e);default:return null}},parseBindingsString:function(e,t,s,a){try{var n,i=this.Fc,r=e+(a&&a.valueAccessors||"");if(!(n=i[r])){var o,c="with($context){with($data||{}){return{"+p.h.Ua(e,a)+"}}}";o=new Function("$context","$element",c),n=i[r]=o}return n(t,s)}catch(t){throw t.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+t.message,t}}}),p.Q.instance=new p.Q,p.b("bindingProvider",p.Q),function(){function s(e){return function(){return e}}function a(e){return e()}function i(e){return p.a.Ca(p.l.w(e),function(t,s){return function(){return e()[s]}})}function r(e,t,a){return"function"==typeof e?i(e.bind(null,t,a)):p.a.Ca(e,s)}function o(e,t){return i(this.getBindings.bind(this,e,t))}function c(e,t,s){var a,n=p.f.firstChild(t),i=p.Q.instance,r=i.preprocessNode;if(r){for(;a=n;)n=p.f.nextSibling(a),r.call(i,a);n=p.f.firstChild(t)}for(;a=n;)n=p.f.nextSibling(a),u(e,a,s)}function u(e,t,s){var a=!0,n=1===t.nodeType;n&&p.f.kc(t),(n&&s||p.Q.instance.nodeHasBindings(t))&&(a=d(t,null,e,s).shouldBindDescendants),a&&!h[p.a.A(t)]&&c(e,t,!n)}function l(e){var t=[],s={},a=[];return p.a.D(e,function n(i){if(!s[i]){var r=p.getBindingHandler(i);r&&(r.after&&(a.push(i),p.a.q(r.after,function(t){if(e[t]){if(-1!==p.a.o(a,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+a.join(", "));n(t)}}),a.length--),t.push({key:i,fc:r})),s[i]=!0}}),t}function d(t,s,n,i){var r=p.a.e.get(t,f);if(!s){if(r)throw Error("You cannot apply bindings multiple times to the same element.");p.a.e.set(t,f,!0)}!r&&i&&p.tc(t,n);var c;if(s&&"function"!=typeof s)c=s;else{var u=p.Q.instance,d=u.getBindingAccessors||o,m=p.B(function(){return(c=s?s(n,t):d.call(u,t,n))&&n.P&&n.P(),c},null,{i:t});c&&m.ba()||(m=null)}var h;if(c){var g=m?function(e){return function(){return a(m()[e])}}:function(e){return c[e]},b=function(){return p.a.Ca(m?m():c,a)};b.get=function(e){return c[e]&&a(g(e))},b.has=function(e){return e in c},i=l(c),p.a.q(i,function(s){var a=s.fc.init,i=s.fc.update,r=s.key;if(8===t.nodeType&&!p.f.Z[r])throw Error("The binding '"+r+"' cannot be used with virtual elements");try{"function"==typeof a&&p.l.w(function(){var s=a(t,g(r),b,n.$data,n);if(s&&s.controlsDescendantBindings){if(h!==e)throw Error("Multiple bindings ("+h+" and "+r+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");h=r}}),"function"==typeof i&&p.B(function(){i(t,g(r),b,n.$data,n)},null,{i:t})}catch(e){throw e.message='Unable to process binding "'+r+": "+c[r]+'"\nMessage: '+e.message,e}})}return{shouldBindDescendants:h===e}}function m(e){return e&&e instanceof p.U?e:new p.U(e)}p.d={};var h={script:!0,textarea:!0,template:!0};p.getBindingHandler=function(e){return p.d[e]},p.U=function(t,s,a,n){var i,r=this,o="function"==typeof t&&!p.H(t),c=p.B(function(){var e=o?t():t,i=p.a.c(e);return s?(s.P&&s.P(),p.a.extend(r,s),c&&(r.P=c)):(r.$parents=[],r.$root=i,r.ko=p),r.$rawData=e,r.$data=i,a&&(r[a]=i),n&&n(r,s,i),r.$data},null,{wa:function(){return i&&!p.a.Qb(i)},i:!0});c.ba()&&(r.P=c,c.equalityComparer=null,i=[],c.Ac=function(t){i.push(t),p.a.F.oa(t,function(t){p.a.La(i,t),i.length||(c.k(),r.P=c=e)})})},p.U.prototype.createChildContext=function(e,t,s){return new p.U(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),s&&s(e)})},p.U.prototype.extend=function(e){return new p.U(this.P||this.$data,this,null,function(t,s){t.$rawData=s.$rawData,p.a.extend(t,"function"==typeof e?e():e)})};var f=p.a.e.I(),g=p.a.e.I();p.tc=function(e,t){if(2!=arguments.length)return p.a.e.get(e,g);p.a.e.set(e,g,t),t.P&&t.P.Ac(e)},p.Ja=function(e,t,s){return 1===e.nodeType&&p.f.kc(e),d(e,t,m(s),!0)},p.Dc=function(e,t,s){return s=m(s),p.Ja(e,r(t,s,e),s)},p.eb=function(e,t){1!==t.nodeType&&8!==t.nodeType||c(m(e),t,!0)},p.Rb=function(e,s){if(!n&&t.jQuery&&(n=t.jQuery),s&&1!==s.nodeType&&8!==s.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");s=s||t.document.body,u(m(e),s,!0)},p.kb=function(t){switch(t.nodeType){case 1:case 8:var s=p.tc(t);if(s)return s;if(t.parentNode)return p.kb(t.parentNode)}return e},p.Jc=function(t){return(t=p.kb(t))?t.$data:e},p.b("bindingHandlers",p.d),p.b("applyBindings",p.Rb),p.b("applyBindingsToDescendants",p.eb),p.b("applyBindingAccessorsToNode",p.Ja),p.b("applyBindingsToNode",p.Dc),p.b("contextFor",p.kb),p.b("dataFor",p.Jc)}(),function(e){function t(t,a){var r,o=n.hasOwnProperty(t)?n[t]:e;o?o.X(a):((o=n[t]=new p.J).X(a),s(t,function(e,s){var a=!(!s||!s.synchronous);i[t]={definition:e,Zc:a},delete n[t],r||a?o.notifySubscribers(e):p.Y.Wa(function(){o.notifySubscribers(e)})}),r=!0)}function s(e,t){a("getConfig",[e],function(s){s?a("loadComponent",[e,s],function(e){t(e,s)}):t(null,null)})}function a(t,s,n,i){i||(i=p.g.loaders.slice(0));var r=i.shift();if(r){var o=r[t];if(o){var c=!1;if(o.apply(r,s.concat(function(e){c?n(null):null!==e?n(e):a(t,s,n,i)}))!==e&&(c=!0,!r.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else a(t,s,n,i)}else n(null)}var n={},i={};p.g={get:function(s,a){var n=i.hasOwnProperty(s)?i[s]:e;n?n.Zc?p.l.w(function(){a(n.definition)}):p.Y.Wa(function(){a(n.definition)}):t(s,a)},Xb:function(e){delete i[e]},Jb:a},p.g.loaders=[],p.b("components",p.g),p.b("components.get",p.g.get),p.b("components.clearCachedDefinition",p.g.Xb)}(),function(){function e(e,t,s,a){function n(){0==--o&&a(i)}var i={},o=2,c=s.template;s=s.viewModel,c?r(t,c,function(t){p.g.Jb("loadTemplate",[e,t],function(e){i.template=e,n()})}):n(),s?r(t,s,function(t){p.g.Jb("loadViewModel",[e,t],function(e){i[l]=e,n()})}):n()}function a(e,t,s){if("function"==typeof t)s(function(e){return new t(e)});else if("function"==typeof t[l])s(t[l]);else if("instance"in t){var n=t.instance;s(function(){return n})}else"viewModel"in t?a(e,t.viewModel,s):e("Unknown viewModel value: "+t)}function n(e){switch(p.a.A(e)){case"script":return p.a.ma(e.text);case"textarea":return p.a.ma(e.value);case"template":if(i(e.content))return p.a.ua(e.content.childNodes)}return p.a.ua(e.childNodes)}function i(e){return t.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function r(e,s,a){"string"==typeof s.require?o||t.require?(o||t.require)([s.require],a):e("Uses require, but no AMD loader is present"):a(s)}function c(e){return function(t){throw Error("Component '"+e+"': "+t)}}var u={};p.g.register=function(e,t){if(!t)throw Error("Invalid configuration for "+e);if(p.g.ub(e))throw Error("Component "+e+" is already registered");u[e]=t},p.g.ub=function(e){return u.hasOwnProperty(e)},p.g.od=function(e){delete u[e],p.g.Xb(e)},p.g.Zb={getConfig:function(e,t){t(u.hasOwnProperty(e)?u[e]:null)},loadComponent:function(t,s,a){var n=c(t);r(n,s,function(s){e(t,n,s,a)})},loadTemplate:function(e,a,r){if(e=c(e),"string"==typeof a)r(p.a.ma(a));else if(a instanceof Array)r(a);else if(i(a))r(p.a.V(a.childNodes));else if(a.element)if(a=a.element,t.HTMLElement?a instanceof HTMLElement:a&&a.tagName&&1===a.nodeType)r(n(a));else if("string"==typeof a){var o=s.getElementById(a);o?r(n(o)):e("Cannot find element with ID "+a)}else e("Unknown element type: "+a);else e("Unknown template value: "+a)},loadViewModel:function(e,t,s){a(c(e),t,s)}};var l="createViewModel";p.b("components.register",p.g.register),p.b("components.isRegistered",p.g.ub),p.b("components.unregister",p.g.od),p.b("components.defaultLoader",p.g.Zb),p.g.loaders.push(p.g.Zb),p.g.Bc=u}(),function(){function e(e,s){if(a=e.getAttribute("params")){var a=t.parseBindingsString(a,s,e,{valueAccessors:!0,bindingParams:!0}),a=p.a.Ca(a,function(t){return p.m(t,null,{i:e})}),n=p.a.Ca(a,function(t){var s=t.t();return t.ba()?p.m({read:function(){return p.a.c(t())},write:p.Ba(s)&&function(e){t()(e)},i:e}):s});return n.hasOwnProperty("$raw")||(n.$raw=a),n}return{$raw:{}}}p.g.getComponentNameForNode=function(e){var t=p.a.A(e);if(p.g.ub(t)&&(-1!=t.indexOf("-")||"[object HTMLUnknownElement]"==""+e||8>=p.a.C&&e.tagName===t))return t},p.g.Ob=function(t,s,a,n){if(1===s.nodeType){var i=p.g.getComponentNameForNode(s);if(i){if((t=t||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var r={name:i,params:e(s,a)};t.component=n?function(){return r}:r}}return t};var t=new p.Q;9>p.a.C&&(p.g.register=function(e){return function(t){return s.createElement(t),e.apply(this,arguments)}}(p.g.register),s.createDocumentFragment=function(e){return function(){var t,s=e(),a=p.g.Bc;for(t in a)a.hasOwnProperty(t)&&s.createElement(t);return s}}(s.createDocumentFragment))}(),function(e){function t(e,t,s){if(!(t=t.template))throw Error("Component '"+e+"' has no template");e=p.a.ua(t),p.f.da(s,e)}function s(e,t,s,a){var n=e.createViewModel;return n?n.call(e,a,{element:t,templateNodes:s}):a}var a=0;p.d.component={init:function(e,n,i,r,o){function c(){var e=u&&u.dispose;"function"==typeof e&&e.call(u),l=u=null}var u,l,d=p.a.V(p.f.childNodes(e));return p.a.F.oa(e,c),p.m(function(){var i,r,m=p.a.c(n());if("string"==typeof m?i=m:(i=p.a.c(m.name),r=p.a.c(m.params)),!i)throw Error("No component name specified");var h=l=++a;p.g.get(i,function(a){if(l===h){if(c(),!a)throw Error("Unknown component '"+i+"'");t(i,a,e);var n=s(a,e,d,r);a=o.createChildContext(n,void 0,function(e){e.$component=n,e.$componentTemplateNodes=d}),u=n,p.eb(a,e)}})},null,{i:e}),{controlsDescendantBindings:!0}}},p.f.Z.component=!0}();var E={class:"className",for:"htmlFor"};p.d.attr={update:function(t,s){var a=p.a.c(s())||{};p.a.D(a,function(s,a){var n=!1===(a=p.a.c(a))||null===a||a===e;n&&t.removeAttribute(s),8>=p.a.C&&s in E?(s=E[s],n?t.removeAttribute(s):t[s]=a):n||t.setAttribute(s,a.toString()),"name"===s&&p.a.rc(t,n?"":a.toString())})}},p.d.checked={after:["value","attr"],init:function(t,s,a){function n(){var e=t.checked,n=m?i():e;if(!p.va.Sa()&&(!o||e)){var r=p.l.w(s);if(u){var c=l?r.t():r;d!==n?(e&&(p.a.pa(c,n,!0),p.a.pa(c,d,!1)),d=n):p.a.pa(c,n,e),l&&p.Ba(r)&&r(c)}else p.h.Ea(r,a,"checked",n,!0)}}var i=p.nc(function(){return a.has("checkedValue")?p.a.c(a.get("checkedValue")):a.has("value")?p.a.c(a.get("value")):t.value}),r="checkbox"==t.type,o="radio"==t.type;if(r||o){var c=s(),u=r&&p.a.c(c)instanceof Array,l=!(u&&c.push&&c.splice),d=u?i():e,m=o||u;o&&!t.name&&p.d.uniqueName.init(t,function(){return!0}),p.m(n,null,{i:t}),p.a.p(t,"click",n),p.m(function(){var e=p.a.c(s());t.checked=u?0<=p.a.o(e,i()):r?e:i()===e},null,{i:t}),c=e}}},p.h.ea.checked=!0,p.d.checkedValue={update:function(e,t){e.value=p.a.c(t())}},p.d.css={update:function(e,t){var s=p.a.c(t());null!==s&&"object"==typeof s?p.a.D(s,function(t,s){s=p.a.c(s),p.a.bb(e,t,s)}):(s=p.a.$a(String(s||"")),p.a.bb(e,e.__ko__cssValue,!1),e.__ko__cssValue=s,p.a.bb(e,s,!0))}},p.d.enable={update:function(e,t){var s=p.a.c(t());s&&e.disabled?e.removeAttribute("disabled"):s||e.disabled||(e.disabled=!0)}},p.d.disable={update:function(e,t){p.d.enable.update(e,function(){return!p.a.c(t())})}},p.d.event={init:function(e,t,s,a,n){var i=t()||{};p.a.D(i,function(i){"string"==typeof i&&p.a.p(e,i,function(e){var r,o=t()[i];if(o){try{var c=p.a.V(arguments);a=n.$data,c.unshift(a),r=o.apply(a,c)}finally{!0!==r&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===s.get(i+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},p.d.foreach={ic:function(e){return function(){var t=e(),s=p.a.zb(t);return s&&"number"!=typeof s.length?(p.a.c(t),{foreach:s.data,as:s.as,includeDestroyed:s.includeDestroyed,afterAdd:s.afterAdd,beforeRemove:s.beforeRemove,afterRender:s.afterRender,beforeMove:s.beforeMove,afterMove:s.afterMove,templateEngine:p.W.sb}):{foreach:t,templateEngine:p.W.sb}}},init:function(e,t){return p.d.template.init(e,p.d.foreach.ic(t))},update:function(e,t,s,a,n){return p.d.template.update(e,p.d.foreach.ic(t),s,a,n)}},p.h.ta.foreach=!1,p.f.Z.foreach=!0,p.d.hasfocus={init:function(e,t,s){function a(a){e.__ko_hasfocusUpdating=!0;var n=e.ownerDocument;if("activeElement"in n){var i;try{i=n.activeElement}catch(e){i=n.body}a=i===e}n=t(),p.h.Ea(n,s,"hasfocus",a,!0),e.__ko_hasfocusLastValue=a,e.__ko_hasfocusUpdating=!1}var n=a.bind(null,!0),i=a.bind(null,!1);p.a.p(e,"focus",n),p.a.p(e,"focusin",n),p.a.p(e,"blur",i),p.a.p(e,"focusout",i)},update:function(e,t){var s=!!p.a.c(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===s||(s?e.focus():e.blur(),!s&&e.__ko_hasfocusLastValue&&e.ownerDocument.body.focus(),p.l.w(p.a.Da,null,[e,s?"focusin":"focusout"]))}},p.h.ea.hasfocus=!0,p.d.hasFocus=p.d.hasfocus,p.h.ea.hasFocus=!0,p.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){p.a.Cb(e,t())}},f("if"),f("ifnot",!1,!0),f("with",!0,!1,function(e,t){return e.createChildContext(t)});var S={};p.d.options={init:function(e){if("select"!==p.a.A(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(t,s,a){function n(){return p.a.Ka(t.options,function(e){return e.selected})}function i(e,t,s){var a=typeof t;return"function"==a?t(e):"string"==a?e[t]:s}function r(e,s){if(f&&l)p.j.ha(t,p.a.c(a.get("value")),!0);else if(h.length){var n=0<=p.a.o(h,p.j.u(s[0]));p.a.sc(s[0],n),f&&!n&&p.l.w(p.a.Da,null,[t,"change"])}}var o=t.multiple,c=0!=t.length&&o?t.scrollTop:null,u=p.a.c(s()),l=a.get("valueAllowUnset")&&a.has("value"),d=a.get("optionsIncludeDestroyed");s={};var m,h=[];l||(o?h=p.a.fb(n(),p.j.u):0<=t.selectedIndex&&h.push(p.j.u(t.options[t.selectedIndex]))),u&&(void 0===u.length&&(u=[u]),m=p.a.Ka(u,function(t){return d||t===e||null===t||!p.a.c(t._destroy)}),a.has("optionsCaption")&&null!==(u=p.a.c(a.get("optionsCaption")))&&u!==e&&m.unshift(S));var f=!1;s.beforeRemove=function(e){t.removeChild(e)},u=r,a.has("optionsAfterRender")&&"function"==typeof a.get("optionsAfterRender")&&(u=function(t,s){r(0,s),p.l.w(a.get("optionsAfterRender"),null,[s[0],t!==S?t:e])}),p.a.Bb(t,m,function(s,n,r){return r.length&&(h=!l&&r[0].selected?[p.j.u(r[0])]:[],f=!0),n=t.ownerDocument.createElement("option"),s===S?(p.a.Za(n,a.get("optionsCaption")),p.j.ha(n,e)):(r=i(s,a.get("optionsValue"),s),p.j.ha(n,p.a.c(r)),s=i(s,a.get("optionsText"),r),p.a.Za(n,s)),[n]},s,u),p.l.w(function(){l?p.j.ha(t,p.a.c(a.get("value")),!0):(o?h.length&&n().length<h.length:h.length&&0<=t.selectedIndex?p.j.u(t.options[t.selectedIndex])!==h[0]:h.length||0<=t.selectedIndex)&&p.a.Da(t,"change")}),p.a.Nc(t),c&&20<Math.abs(c-t.scrollTop)&&(t.scrollTop=c)}},p.d.options.xb=p.a.e.I(),p.d.selectedOptions={after:["options","foreach"],init:function(e,t,s){p.a.p(e,"change",function(){var a=t(),n=[];p.a.q(e.getElementsByTagName("option"),function(e){e.selected&&n.push(p.j.u(e))}),p.h.Ea(a,s,"selectedOptions",n)})},update:function(e,t){if("select"!=p.a.A(e))throw Error("values binding applies only to SELECT elements");var s=p.a.c(t()),a=e.scrollTop;s&&"number"==typeof s.length&&p.a.q(e.getElementsByTagName("option"),function(e){var t=0<=p.a.o(s,p.j.u(e));e.selected!=t&&p.a.sc(e,t)}),e.scrollTop=a}},p.h.ea.selectedOptions=!0,p.d.style={update:function(t,s){var a=p.a.c(s()||{});p.a.D(a,function(s,a){null!==(a=p.a.c(a))&&a!==e&&!1!==a||(a=""),t.style[s]=a})}},p.d.submit={init:function(e,t,s,a,n){if("function"!=typeof t())throw Error("The value for a submit binding must be a function");p.a.p(e,"submit",function(s){var a,i=t();try{a=i.call(n.$data,e)}finally{!0!==a&&(s.preventDefault?s.preventDefault():s.returnValue=!1)}})}},p.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){p.a.Za(e,t())}},p.f.Z.text=!0,function(){if(t&&t.navigator)var s=function(e){if(e)return parseFloat(e[1])},a=t.opera&&t.opera.version&&parseInt(t.opera.version()),n=t.navigator.userAgent,i=s(n.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),r=s(n.match(/Firefox\/([^ ]*)/));if(10>p.a.C)var o=p.a.e.I(),c=p.a.e.I(),u=function(e){var t=this.activeElement;(t=t&&p.a.e.get(t,c))&&t(e)},l=function(e,t){var s=e.ownerDocument;p.a.e.get(s,o)||(p.a.e.set(s,o,!0),p.a.p(s,"selectionchange",u)),p.a.e.set(e,c,t)};p.d.textInput={init:function(t,s,n){function o(e,s){p.a.p(t,e,s)}function c(){var a=p.a.c(s());null!==a&&a!==e||(a=""),h!==e&&a===h?p.a.setTimeout(c,4):t.value!==a&&(f=a,t.value=a)}function u(){m||(h=t.value,m=p.a.setTimeout(d,4))}function d(){clearTimeout(m),h=m=e;var a=t.value;f!==a&&(f=a,p.h.Ea(s(),n,"textInput",a))}var m,h,f=t.value,g=9==p.a.C?u:d;10>p.a.C?(o("propertychange",function(e){"value"===e.propertyName&&g(e)}),8==p.a.C&&(o("keyup",d),o("keydown",d)),8<=p.a.C&&(l(t,g),o("dragend",u))):(o("input",d),5>i&&"textarea"===p.a.A(t)?(o("keydown",u),o("paste",u),o("cut",u)):11>a?o("keydown",u):4>r&&(o("DOMAutoComplete",d),o("dragdrop",d),o("drop",d))),o("change",d),p.m(c,null,{i:t})}},p.h.ea.textInput=!0,p.d.textinput={preprocess:function(e,t,s){s("textInput",e)}}}(),p.d.uniqueName={init:function(e,t){if(t()){var s="ko_unique_"+ ++p.d.uniqueName.Ic;p.a.rc(e,s)}}},p.d.uniqueName.Ic=0,p.d.value={after:["options","foreach"],init:function(e,t,s){if("input"!=e.tagName.toLowerCase()||"checkbox"!=e.type&&"radio"!=e.type){var a=["change"],n=s.get("valueUpdate"),i=!1,r=null;n&&("string"==typeof n&&(n=[n]),p.a.ra(a,n),a=p.a.Tb(a));var o=function(){r=null,i=!1;var a=t(),n=p.j.u(e);p.h.Ea(a,s,"value",n)};!p.a.C||"input"!=e.tagName.toLowerCase()||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=p.a.o(a,"propertychange")||(p.a.p(e,"propertychange",function(){i=!0}),p.a.p(e,"focus",function(){i=!1}),p.a.p(e,"blur",function(){i&&o()})),p.a.q(a,function(t){var s=o;p.a.nd(t,"after")&&(s=function(){r=p.j.u(e),p.a.setTimeout(o,0)},t=t.substring(5)),p.a.p(e,t,s)});var c=function(){var a=p.a.c(t()),n=p.j.u(e);if(null!==r&&a===r)p.a.setTimeout(c,0);else if(a!==n)if("select"===p.a.A(e)){var i=s.get("valueAllowUnset");(n=function(){p.j.ha(e,a,i)})(),i||a===p.j.u(e)?p.a.setTimeout(n,0):p.l.w(p.a.Da,null,[e,"change"])}else p.j.ha(e,a)};p.m(c,null,{i:e})}else p.Ja(e,{checkedValue:t})},update:function(){}},p.h.ea.value=!0,p.d.visible={update:function(e,t){var s=p.a.c(t()),a="none"!=e.style.display;s&&!a?e.style.display="":!s&&a&&(e.style.display="none")}},function(e){p.d[e]={init:function(t,s,a,n,i){return p.d.event.init.call(this,t,function(){var t={};return t[e]=s(),t},a,n,i)}}}("click"),p.O=function(){},p.O.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},p.O.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},p.O.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){var a=(t=t||s).getElementById(e);if(!a)throw Error("Cannot find template with ID "+e);return new p.v.n(a)}if(1==e.nodeType||8==e.nodeType)return new p.v.qa(e);throw Error("Unknown template type: "+e)},p.O.prototype.renderTemplate=function(e,t,s,a){return e=this.makeTemplateSource(e,a),this.renderTemplateSource(e,t,s,a)},p.O.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},p.O.prototype.rewriteTemplate=function(e,t,s){t=t((e=this.makeTemplateSource(e,s)).text()),e.text(t),e.data("isRewritten",!0)},p.b("templateEngine",p.O),p.Gb=function(){function e(e,t,s,a){e=p.h.yb(e);for(var n=p.h.ta,i=0;i<e.length;i++){var r=e[i].key;if(n.hasOwnProperty(r)){var o=n[r];if("function"==typeof o){if(r=o(e[i].value))throw Error(r)}else if(!o)throw Error("This template engine does not support the '"+r+"' binding within its templates")}}return s="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+p.h.Ua(e,{valueAccessors:!0})+" } })()},'"+s.toLowerCase()+"')",a.createJavaScriptEvaluatorBlock(s)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,s=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Oc:function(e,t,s){t.isTemplateRewritten(e,s)||t.rewriteTemplate(e,function(e){return p.Gb.dd(e,t)},s)},dd:function(a,n){return a.replace(t,function(t,s,a,i,r){return e(r,s,a,n)}).replace(s,function(t,s){return e(s,"\x3c!-- ko --\x3e","#comment",n)})},Ec:function(e,t){return p.M.wb(function(s,a){var n=s.nextSibling;n&&n.nodeName.toLowerCase()===t&&p.Ja(n,e,a)})}}}(),p.b("__tr_ambtns",p.Gb.Ec),function(){p.v={},p.v.n=function(e){if(this.n=e){var t=p.a.A(e);this.ab="script"===t?1:"textarea"===t?2:"template"==t&&e.content&&11===e.content.nodeType?3:4}},p.v.n.prototype.text=function(){var e=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.n[e];var t=arguments[0];"innerHTML"===e?p.a.Cb(this.n,t):this.n[e]=t};var t=p.a.e.I()+"_";p.v.n.prototype.data=function(e){if(1===arguments.length)return p.a.e.get(this.n,t+e);p.a.e.set(this.n,t+e,arguments[1])};var s=p.a.e.I();p.v.n.prototype.nodes=function(){var t=this.n;if(0==arguments.length)return(p.a.e.get(t,s)||{}).jb||(3===this.ab?t.content:4===this.ab?t:e);p.a.e.set(t,s,{jb:arguments[0]})},p.v.qa=function(e){this.n=e},p.v.qa.prototype=new p.v.n,p.v.qa.prototype.text=function(){if(0==arguments.length){var t=p.a.e.get(this.n,s)||{};return t.Hb===e&&t.jb&&(t.Hb=t.jb.innerHTML),t.Hb}p.a.e.set(this.n,s,{Hb:arguments[0]})},p.b("templateSources",p.v),p.b("templateSources.domElement",p.v.n),p.b("templateSources.anonymousTemplate",p.v.qa)}(),function(){function t(e,t,s){var a;for(t=p.f.nextSibling(t);e&&(a=e)!==t;)e=p.f.nextSibling(a),s(a,e)}function s(e,s){if(e.length){var a=e[0],n=e[e.length-1],i=a.parentNode,r=p.Q.instance,o=r.preprocessNode;if(o){if(t(a,n,function(e,t){var s=e.previousSibling,i=o.call(r,e);i&&(e===a&&(a=i[0]||t),e===n&&(n=i[i.length-1]||s))}),e.length=0,!a)return;a===n?e.push(a):(e.push(a,n),p.a.za(e,i))}t(a,n,function(e){1!==e.nodeType&&8!==e.nodeType||p.Rb(s,e)}),t(a,n,function(e){1!==e.nodeType&&8!==e.nodeType||p.M.yc(e,[s])}),p.a.za(e,i)}}function a(e){return e.nodeType?e:0<e.length?e[0]:null}function n(e,t,n,i,o){o=o||{};var c=(e&&a(e)||n||{}).ownerDocument,u=o.templateEngine||r;if(p.Gb.Oc(n,u,c),"number"!=typeof(n=u.renderTemplate(n,i,o,c)).length||0<n.length&&"number"!=typeof n[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(c=!1,t){case"replaceChildren":p.f.da(e,n),c=!0;break;case"replaceNode":p.a.qc(e,n),c=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+t)}return c&&(s(n,i),o.afterRender&&p.l.w(o.afterRender,null,[n,i.$data])),n}function i(e,t,s){return p.H(e)?e():"function"==typeof e?e(t,s):e}var r;p.Db=function(t){if(t!=e&&!(t instanceof p.O))throw Error("templateEngine must inherit from ko.templateEngine");r=t},p.Ab=function(t,s,o,c,u){if(((o=o||{}).templateEngine||r)==e)throw Error("Set a template engine before calling renderTemplate");if(u=u||"replaceChildren",c){var l=a(c);return p.B(function(){var e=s&&s instanceof p.U?s:new p.U(p.a.c(s)),r=i(t,e.$data,e),e=n(c,u,r,e,o);"replaceNode"==u&&(c=e,l=a(c))},null,{wa:function(){return!l||!p.a.nb(l)},i:l&&"replaceNode"==u?l.parentNode:l})}return p.M.wb(function(e){p.Ab(t,s,o,e,"replaceNode")})},p.kd=function(t,a,r,o,c){function u(e,t){s(t,d),r.afterRender&&r.afterRender(t,e),d=null}function l(e,s){return d=c.createChildContext(e,r.as,function(e){e.$index=s}),n(null,"ignoreTargetNode",i(t,e,d),d,r)}var d;return p.B(function(){var t=p.a.c(a)||[];void 0===t.length&&(t=[t]),t=p.a.Ka(t,function(t){return r.includeDestroyed||t===e||null===t||!p.a.c(t._destroy)}),p.l.w(p.a.Bb,null,[o,t,l,r,u])},null,{i:o})};var o=p.a.e.I();p.d.template={init:function(e,t){var s=p.a.c(t());if("string"==typeof s||s.name)p.f.xa(e);else{if("nodes"in s){if(s=s.nodes||[],p.H(s))throw Error('The "nodes" option must be a plain, non-observable array.')}else s=p.f.childNodes(e);s=p.a.jc(s),new p.v.qa(e).nodes(s)}return{controlsDescendantBindings:!0}},update:function(t,s,a,n,i){var r,c=s();a=!0,n=null,"string"==typeof(s=p.a.c(c))?s={}:(c=s.name,"if"in s&&(a=p.a.c(s.if)),a&&"ifnot"in s&&(a=!p.a.c(s.ifnot)),r=p.a.c(s.data)),"foreach"in s?n=p.kd(c||t,a&&s.foreach||[],s,t,i):a?(i="data"in s?i.createChildContext(r,s.as):i,n=p.Ab(c||t,i,s,t)):p.f.xa(t),i=n,(r=p.a.e.get(t,o))&&"function"==typeof r.k&&r.k(),p.a.e.set(t,o,i&&i.ba()?i:e)}},p.h.ta.template=function(e){return 1==(e=p.h.yb(e)).length&&e[0].unknown||p.h.ad(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},p.f.Z.template=!0}(),p.b("setTemplateEngine",p.Db),p.b("renderTemplate",p.Ab),p.a.dc=function(e,t,s){if(e.length&&t.length){var a,n,i,r,o;for(a=n=0;(!s||a<s)&&(r=e[n]);++n){for(i=0;o=t[i];++i)if(r.value===o.value){r.moved=o.index,o.moved=r.index,t.splice(i,1),a=i=0;break}a+=i}}},p.a.ib=function(){function e(e,t,s,a,n){var i,r,o,c,u,l=Math.min,d=Math.max,m=[],h=e.length,f=t.length,g=f-h||1,b=h+f+1;for(i=0;i<=h;i++)for(c=o,m.push(o=[]),u=l(f,i+g),r=d(0,i-1);r<=u;r++)o[r]=r?i?e[i-1]===t[r-1]?c[r-1]:l(c[r]||b,o[r-1]||b)+1:r+1:i+1;for(l=[],d=[],g=[],i=h,r=f;i||r;)f=m[i][r]-1,r&&f===m[i][r-1]?d.push(l[l.length]={status:s,value:t[--r],index:r}):i&&f===m[i-1][r]?g.push(l[l.length]={status:a,value:e[--i],index:i}):(--r,--i,n.sparse||l.push({status:"retained",value:t[r]}));return p.a.dc(g,d,!n.dontLimitMoves&&10*h),l.reverse()}return function(t,s,a){return a="boolean"==typeof a?{dontLimitMoves:a}:a||{},t=t||[],s=s||[],t.length<s.length?e(t,s,"added","deleted",a):e(s,t,"deleted","added",a)}}(),p.b("utils.compareArrays",p.a.ib),function(){function t(t,s,a,n,i){var r=[],o=p.B(function(){var e=s(a,i,p.a.za(r,t))||[];0<r.length&&(p.a.qc(r,e),n&&p.l.w(n,null,[a,e,i])),r.length=0,p.a.ra(r,e)},null,{i:t,wa:function(){return!p.a.Qb(r)}});return{ca:r,B:o.ba()?o:e}}var s=p.a.e.I(),a=p.a.e.I();p.a.Bb=function(n,i,r,o,c){function u(e,t){w=m[t],_!==t&&(k[e]=w),w.qb(_++),p.a.za(w.ca,n),g.push(w),y.push(w)}function l(e,t){if(e)for(var s=0,a=t.length;s<a;s++)t[s]&&p.a.q(t[s].ca,function(a){e(a,s,t[s].ja)})}i=i||[],o=o||{};var d=p.a.e.get(n,s)===e,m=p.a.e.get(n,s)||[],h=p.a.fb(m,function(e){return e.ja}),f=p.a.ib(h,i,o.dontLimitMoves),g=[],b=0,_=0,v=[],y=[];i=[];for(var w,x,T,k=[],h=[],I=0;x=f[I];I++)switch(T=x.moved,x.status){case"deleted":T===e&&((w=m[b]).B&&(w.B.k(),w.B=e),p.a.za(w.ca,n).length&&(o.beforeRemove&&(g.push(w),y.push(w),w.ja===a?w=null:i[I]=w),w&&v.push.apply(v,w.ca))),b++;break;case"retained":u(I,b++);break;case"added":T!==e?u(I,T):(w={ja:x.value,qb:p.N(_++)},g.push(w),y.push(w),d||(h[I]=w))}p.a.e.set(n,s,g),l(o.beforeMove,k),p.a.q(v,o.beforeRemove?p.$:p.removeNode);for(var C,I=0,d=p.f.firstChild(n);w=y[I];I++){for(w.ca||p.a.extend(w,t(n,r,w.ja,c,w.qb)),b=0;f=w.ca[b];d=f.nextSibling,C=f,b++)f!==d&&p.f.gc(n,f,C);!w.Wc&&c&&(c(w.ja,w.ca,w.qb),w.Wc=!0)}for(l(o.beforeRemove,i),I=0;I<i.length;++I)i[I]&&(i[I].ja=a);l(o.afterMove,k),l(o.afterAdd,h)}}(),p.b("utils.setDomNodeChildrenFromArrayMapping",p.a.Bb),p.W=function(){this.allowTemplateRewriting=!1},p.W.prototype=new p.O,p.W.prototype.renderTemplateSource=function(e,t,s,a){return(t=(9>p.a.C?0:e.nodes)?e.nodes():null)?p.a.V(t.cloneNode(!0).childNodes):(e=e.text(),p.a.ma(e,a))},p.W.sb=new p.W,p.Db(p.W.sb),p.b("nativeTemplateEngine",p.W),function(){p.vb=function(){var e=this.$c=function(){if(!n||!n.tmpl)return 0;try{if(0<=n.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(t,a,i,r){if(r=r||s,i=i||{},2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var o=t.data("precompiled");return o||(o=t.text()||"",o=n.template(null,"{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}"),t.data("precompiled",o)),t=[a.$data],a=n.extend({koBindingContext:a},i.templateOptions),(a=n.tmpl(o,t,a)).appendTo(r.createElement("div")),n.fragments={},a},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){s.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},0<e&&(n.tmpl.tag.ko_code={open:"__.push($1 || '');"},n.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},p.vb.prototype=new p.O;var e=new p.vb;0<e.$c&&p.Db(e),p.b("jqueryTmplTemplateEngine",p.vb)}()})}(),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof module&&module.exports?module.exports=t():e.numeral=t()}(this,function(){function e(e,t){this._input=e,this._value=t}var t,s,a={},n={},i={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0"},r={currentLocale:i.currentLocale,zeroFormat:i.zeroFormat,nullFormat:i.nullFormat,defaultFormat:i.defaultFormat};return t=function(n){var i,o,c,u;if(t.isNumeral(n))i=n.value();else if(0===n||void 0===n)i=0;else if(null===n||s.isNaN(n))i=null;else if("string"==typeof n)if(r.zeroFormat&&n===r.zeroFormat)i=0;else if(r.nullFormat&&n===r.nullFormat||!n.replace(/[^0-9]+/g,"").length)i=null;else{for(o in a)if((u="function"==typeof a[o].regexps.unformat?a[o].regexps.unformat():a[o].regexps.unformat)&&n.match(u)){c=a[o].unformat;break}i=(c=c||t._.stringToNumber)(n)}else i=Number(n)||null;return new e(n,i)},t.version="2.0.4",t.isNumeral=function(t){return t instanceof e},t._=s={numberToFormat:function(e,s,a){var i,r,o,c,u,l,d,m=n[t.options.currentLocale],h=!1,f=!1,p="",g=1e12,b="",_=!1;if(e=e||0,r=Math.abs(e),t._.includes(s,"(")?(h=!0,s=s.replace(/[\(|\)]/g,"")):(t._.includes(s,"+")||t._.includes(s,"-"))&&(u=t._.includes(s,"+")?s.indexOf("+"):0>e?s.indexOf("-"):-1,s=s.replace(/[\+|\-]/g,"")),t._.includes(s,"a")&&(i=s.match(/a(k|m|b|t)?/),i=!!i&&i[1],t._.includes(s," a")&&(p=" "),s=s.replace(new RegExp(p+"a[kmbt]?"),""),r>=g&&!i||"t"===i?(p+=m.abbreviations.trillion,e/=g):g>r&&r>=1e9&&!i||"b"===i?(p+=m.abbreviations.billion,e/=1e9):1e9>r&&r>=1e6&&!i||"m"===i?(p+=m.abbreviations.million,e/=1e6):(1e6>r&&r>=1e3&&!i||"k"===i)&&(p+=m.abbreviations.thousand,e/=1e3)),t._.includes(s,"[.]")&&(f=!0,s=s.replace("[.]",".")),o=e.toString().split(".")[0],c=s.split(".")[1],l=s.indexOf(","),c?(t._.includes(c,"[")?(c=c.replace("]",""),c=c.split("["),b=t._.toFixed(e,c[0].length+c[1].length,a,c[1].length)):b=t._.toFixed(e,c.length,a),o=b.split(".")[0],b=t._.includes(b,".")?m.delimiters.decimal+b.split(".")[1]:"",f&&0===Number(b.slice(1))&&(b="")):o=t._.toFixed(e,null,a),p&&!i&&Number(o)>=1e3&&p!==m.abbreviations.trillion)switch(o=String(Number(o)/1e3),p){case m.abbreviations.thousand:p=m.abbreviations.million;break;case m.abbreviations.million:p=m.abbreviations.billion;break;case m.abbreviations.billion:p=m.abbreviations.trillion}return t._.includes(o,"-")&&(o=o.slice(1),_=!0),l>-1&&(o=o.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+m.delimiters.thousands)),0===s.indexOf(".")&&(o=""),d=o+b+(p||""),h?d=(h&&_?"(":"")+d+(h&&_?")":""):u>=0?d=0===u?(_?"-":"+")+d:d+(_?"-":"+"):_&&(d="-"+d),d},stringToNumber:function(e){var t,s,a,i=n[r.currentLocale],o=e,c={thousand:3,million:6,billion:9,trillion:12};if(r.zeroFormat&&e===r.zeroFormat)s=0;else if(r.nullFormat&&e===r.nullFormat||!e.replace(/[^0-9]+/g,"").length)s=null;else{s=1,"."!==i.delimiters.decimal&&(e=e.replace(/\./g,"").replace(i.delimiters.decimal,"."));for(t in c)if(a=new RegExp("[^a-zA-Z]"+i.abbreviations[t]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),o.match(a)){s*=Math.pow(10,c[t]);break}s*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),s*=Number(e)}return s},isNaN:function(e){return"number"==typeof e&&isNaN(e)},includes:function(e,t){return-1!==e.indexOf(t)},insert:function(e,t,s){return e.slice(0,s)+t+e.slice(s)},reduce:function(e,t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var s,a=Object(e),n=a.length>>>0,i=0;if(3===arguments.length)s=arguments[2];else{for(;n>i&&!(i in a);)i++;if(i>=n)throw new TypeError("Reduce of empty array with no initial value");s=a[i++]}for(;n>i;i++)i in a&&(s=t(s,a[i],i,a));return s},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(e,t){var a=s.multiplier(t);return e>a?e:a},1)},toFixed:function(e,t,s,a){var n,i,r,o,c=e.toString().split("."),u=t-(a||0);return n=2===c.length?Math.min(Math.max(c[1].length,u),t):u,r=Math.pow(10,n),o=(s(e*r)/r).toFixed(n),a>t-n&&(i=new RegExp("\\.?0{1,"+(a-(t-n))+"}$"),o=o.replace(i,"")),o}},t.options=r,t.formats=a,t.locales=n,t.locale=function(e){return e&&(r.currentLocale=e.toLowerCase()),r.currentLocale},t.localeData=function(e){if(!e)return n[r.currentLocale];if(e=e.toLowerCase(),!n[e])throw new Error("Unknown locale : "+e);return n[e]},t.reset=function(){for(var e in i)r[e]=i[e]},t.zeroFormat=function(e){r.zeroFormat="string"==typeof e?e:null},t.nullFormat=function(e){r.nullFormat="string"==typeof e?e:null},t.defaultFormat=function(e){r.defaultFormat="string"==typeof e?e:"0.0"},t.register=function(e,t,s){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=s,s},t.validate=function(e,s){var a,n,i,r,o,c,u,l;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{u=t.localeData(s)}catch(e){u=t.localeData(t.locale())}return i=u.currency.symbol,o=u.abbreviations,a=u.delimiters.decimal,n="."===u.delimiters.thousands?"\\.":u.delimiters.thousands,(null===(l=e.match(/^[^\d]+/))||(e=e.substr(1),l[0]===i))&&!(null!==(l=e.match(/[^\d]+$/))&&(e=e.slice(0,-1),l[0]!==o.thousand&&l[0]!==o.million&&l[0]!==o.billion&&l[0]!==o.trillion)||(c=new RegExp(n+"{2}"),e.match(/[^\d.,]/g)||(r=e.split(a)).length>2||(r.length<2?!r[0].match(/^\d+.*\d$/)||r[0].match(c):1===r[0].length?!r[0].match(/^\d+$/)||r[0].match(c)||!r[1].match(/^\d+$/):!r[0].match(/^\d+.*\d$/)||r[0].match(c)||!r[1].match(/^\d+$/))))},t.fn=e.prototype={clone:function(){return t(this)},format:function(e,s){var n,i,o,c=this._value,u=e||r.defaultFormat;if(s=s||Math.round,0===c&&null!==r.zeroFormat)i=r.zeroFormat;else if(null===c&&null!==r.nullFormat)i=r.nullFormat;else{for(n in a)if(u.match(a[n].regexps.format)){o=a[n].format;break}i=(o=o||t._.numberToFormat)(c,u,s)}return i},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var t=s.correctionFactor.call(null,this._value,e);return this._value=s.reduce([this._value,e],function(e,s,a,n){return e+Math.round(t*s)},0)/t,this},subtract:function(e){var t=s.correctionFactor.call(null,this._value,e);return this._value=s.reduce([e],function(e,s,a,n){return e-Math.round(t*s)},Math.round(this._value*t))/t,this},multiply:function(e){return this._value=s.reduce([this._value,e],function(e,t,a,n){var i=s.correctionFactor(e,t);return Math.round(e*i)*Math.round(t*i)/Math.round(i*i)},1),this},divide:function(e){return this._value=s.reduce([this._value,e],function(e,t,a,n){var i=s.correctionFactor(e,t);return Math.round(e*i)/Math.round(t*i)}),this},difference:function(e){return Math.abs(t(this._value).subtract(e).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),function(){var e={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},s={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]};t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp("("+e.suffixes.concat(s.suffixes).join("|")+")")},format:function(a,n,i){var r,o,c,u=t._.includes(n,"ib")?s:e,l=t._.includes(n," b")||t._.includes(n," ib")?" ":"";for(n=n.replace(/\s?i?b/,""),r=0;r<=u.suffixes.length;r++)if(o=Math.pow(u.base,r),c=Math.pow(u.base,r+1),null===a||0===a||a>=o&&c>a){l+=u.suffixes[r],o>0&&(a/=o);break}return t._.numberToFormat(a,n,i)+l},unformat:function(a){var n,i,r=t._.stringToNumber(a);if(r){for(n=e.suffixes.length-1;n>=0;n--){if(t._.includes(a,e.suffixes[n])){i=Math.pow(e.base,n);break}if(t._.includes(a,s.suffixes[n])){i=Math.pow(s.base,n);break}}r*=i||1}return r}})}(),t.register("format","currency",{regexps:{format:/(\$)/},format:function(e,s,a){var n,i,r=t.locales[t.options.currentLocale],o={before:s.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:s.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(s=s.replace(/\s?\$\s?/,""),n=t._.numberToFormat(e,s,a),e>=0?(o.before=o.before.replace(/[\-\(]/,""),o.after=o.after.replace(/[\-\)]/,"")):0>e&&!t._.includes(o.before,"-")&&!t._.includes(o.before,"(")&&(o.before="-"+o.before),i=0;i<o.before.length;i++)switch(o.before[i]){case"$":n=t._.insert(n,r.currency.symbol,i);break;case" ":n=t._.insert(n," ",i)}for(i=o.after.length-1;i>=0;i--)switch(o.after[i]){case"$":n=i===o.after.length-1?n+r.currency.symbol:t._.insert(n,r.currency.symbol,-(o.after.length-(1+i)));break;case" ":n=i===o.after.length-1?n+" ":t._.insert(n," ",-(o.after.length-(1+i)))}return n}}),t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,s,a){var n=("number"!=typeof e||t._.isNaN(e)?"0e+0":e.toExponential()).split("e");return s=s.replace(/e[\+|\-]{1}0/,""),t._.numberToFormat(Number(n[0]),s,a)+"e"+n[1]},unformat:function(e){var s=t._.includes(e,"e+")?e.split("e+"):e.split("e-"),a=Number(s[0]),n=Number(s[1]);return n=t._.includes(e,"e-")?n*=-1:n,t._.reduce([a,Math.pow(10,n)],function(e,s,a,n){var i=t._.correctionFactor(e,s);return e*i*(s*i)/(i*i)},1)}}),t.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,s,a){var n=t.locales[t.options.currentLocale],i=t._.includes(s," o")?" ":"";return s=s.replace(/\s?o/,""),i+=n.ordinal(e),t._.numberToFormat(e,s,a)+i}}),t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,s,a){var n,i=t._.includes(s," %")?" ":"";return e*=100,s=s.replace(/\s?\%/,""),n=t._.numberToFormat(e,s,a),t._.includes(n,")")?((n=n.split("")).splice(-1,0,i+"%"),n=n.join("")):n=n+i+"%",n},unformat:function(e){return.01*t._.stringToNumber(e)}}),t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,s){var a=Math.floor(e/60/60),n=Math.floor((e-60*a*60)/60),i=Math.round(e-60*a*60-60*n);return a+":"+(10>n?"0"+n:n)+":"+(10>i?"0"+i:i)},unformat:function(e){var t=e.split(":"),s=0;return 3===t.length?(s+=60*Number(t[0])*60,s+=60*Number(t[1]),s+=Number(t[2])):2===t.length&&(s+=60*Number(t[0]),s+=Number(t[1])),Number(s)}}),t}),ko.applyBindings(new ChatListViewModel);